2025-10-25 17:30:49,385 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-10-25 17:30:49,403 - apscheduler.scheduler - INFO - Added job "keep_databases_alive" to job store "default"
2025-10-25 17:30:49,404 - apscheduler.scheduler - INFO - Scheduler started
2025-10-25 17:30:49,409 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-10-25 17:30:49,410 - apscheduler.scheduler - INFO - Added job "auto_close_sessions" to job store "default"
2025-10-25 17:30:49,410 - apscheduler.scheduler - INFO - Scheduler started
2025-10-25 17:30:49,418 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-10-25 17:30:49,422 - apscheduler.scheduler - INFO - Added job "delete_old_announcements" to job store "default"
2025-10-25 17:30:49,425 - apscheduler.scheduler - INFO - Scheduler started
2025-10-25 17:30:49,469 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-10-25 17:30:49,469 - apscheduler.scheduler - INFO - Added job "ping_urls" to job store "default"
2025-10-25 17:30:49,471 - apscheduler.scheduler - INFO - Scheduler started
2025-10-25 17:30:58,929 - app - ERROR - Exception on /main-page [GET]
Traceback (most recent call last):
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/app.py", line 2190, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/app.py", line 1486, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask_cors/extension.py", line 176, in wrapped_function
    return cors_after_request(app.make_response(f(*args, **kwargs)))
                                                ^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/app.py", line 1484, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/app.py", line 1469, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask_login/utils.py", line 285, in decorated_view
    return current_app.login_manager.unauthorized()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask_login/login_manager.py", line 187, in unauthorized
    flash(self.login_message, category=self.login_message_category)
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/helpers.py", line 328, in flash
    session["_flashes"] = flashes
    ~~~~~~~^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/sessions.py", line 97, in _fail
    raise RuntimeError(
RuntimeError: The session is unavailable because no secret key was set.  Set the secret_key on the application to something unique and secret.
2025-10-25 17:30:59,303 - app - ERROR - Internal Server Error: 500 Internal Server Error: The server encountered an internal error and was unable to complete your request. Either the server is overloaded or there is an error in the application.
Traceback (most recent call last):
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/app.py", line 2190, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/app.py", line 1486, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask_cors/extension.py", line 176, in wrapped_function
    return cors_after_request(app.make_response(f(*args, **kwargs)))
                                                ^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/app.py", line 1484, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/app.py", line 1469, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask_login/utils.py", line 285, in decorated_view
    return current_app.login_manager.unauthorized()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask_login/login_manager.py", line 187, in unauthorized
    flash(self.login_message, category=self.login_message_category)
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/helpers.py", line 328, in flash
    session["_flashes"] = flashes
    ~~~~~~~^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/sessions.py", line 97, in _fail
    raise RuntimeError(
RuntimeError: The session is unavailable because no secret key was set.  Set the secret_key on the application to something unique and secret.
2025-10-25 17:31:00,690 - app - ERROR - Exception on /api/user [GET]
Traceback (most recent call last):
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/app.py", line 2190, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/app.py", line 1486, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask_cors/extension.py", line 176, in wrapped_function
    return cors_after_request(app.make_response(f(*args, **kwargs)))
                                                ^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/app.py", line 1484, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/app.py", line 1469, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask_login/utils.py", line 285, in decorated_view
    return current_app.login_manager.unauthorized()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask_login/login_manager.py", line 187, in unauthorized
    flash(self.login_message, category=self.login_message_category)
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/helpers.py", line 328, in flash
    session["_flashes"] = flashes
    ~~~~~~~^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/sessions.py", line 97, in _fail
    raise RuntimeError(
RuntimeError: The session is unavailable because no secret key was set.  Set the secret_key on the application to something unique and secret.
2025-10-25 17:31:01,088 - app - ERROR - Internal Server Error: 500 Internal Server Error: The server encountered an internal error and was unable to complete your request. Either the server is overloaded or there is an error in the application.
Traceback (most recent call last):
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/app.py", line 2190, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/app.py", line 1486, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask_cors/extension.py", line 176, in wrapped_function
    return cors_after_request(app.make_response(f(*args, **kwargs)))
                                                ^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/app.py", line 1484, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/app.py", line 1469, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask_login/utils.py", line 285, in decorated_view
    return current_app.login_manager.unauthorized()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask_login/login_manager.py", line 187, in unauthorized
    flash(self.login_message, category=self.login_message_category)
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/helpers.py", line 328, in flash
    session["_flashes"] = flashes
    ~~~~~~~^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/sessions.py", line 97, in _fail
    raise RuntimeError(
RuntimeError: The session is unavailable because no secret key was set.  Set the secret_key on the application to something unique and secret.
2025-10-25 17:31:49,414 - apscheduler.executors.default - INFO - Running job "auto_close_sessions (trigger: interval[0:01:00], next run at: 2025-10-25 17:31:49 EAT)" (scheduled at 2025-10-25 17:31:49.408859+03:00)
2025-10-25 17:31:56,695 - apscheduler.executors.default - INFO - Job "auto_close_sessions (trigger: interval[0:01:00], next run at: 2025-10-25 17:32:49 EAT)" executed successfully
2025-10-25 17:32:01,293 - app - ERROR - Exception on /api/user [GET]
Traceback (most recent call last):
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/app.py", line 2190, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/app.py", line 1486, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask_cors/extension.py", line 176, in wrapped_function
    return cors_after_request(app.make_response(f(*args, **kwargs)))
                                                ^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/app.py", line 1484, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/app.py", line 1469, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask_login/utils.py", line 285, in decorated_view
    return current_app.login_manager.unauthorized()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask_login/login_manager.py", line 187, in unauthorized
    flash(self.login_message, category=self.login_message_category)
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/helpers.py", line 328, in flash
    session["_flashes"] = flashes
    ~~~~~~~^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/sessions.py", line 97, in _fail
    raise RuntimeError(
RuntimeError: The session is unavailable because no secret key was set.  Set the secret_key on the application to something unique and secret.
2025-10-25 17:32:01,347 - app - ERROR - Internal Server Error: 500 Internal Server Error: The server encountered an internal error and was unable to complete your request. Either the server is overloaded or there is an error in the application.
Traceback (most recent call last):
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/app.py", line 2190, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/app.py", line 1486, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask_cors/extension.py", line 176, in wrapped_function
    return cors_after_request(app.make_response(f(*args, **kwargs)))
                                                ^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/app.py", line 1484, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/app.py", line 1469, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask_login/utils.py", line 285, in decorated_view
    return current_app.login_manager.unauthorized()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask_login/login_manager.py", line 187, in unauthorized
    flash(self.login_message, category=self.login_message_category)
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/helpers.py", line 328, in flash
    session["_flashes"] = flashes
    ~~~~~~~^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/sessions.py", line 97, in _fail
    raise RuntimeError(
RuntimeError: The session is unavailable because no secret key was set.  Set the secret_key on the application to something unique and secret.
2025-10-25 17:32:49,410 - apscheduler.executors.default - INFO - Running job "auto_close_sessions (trigger: interval[0:01:00], next run at: 2025-10-25 17:33:49 EAT)" (scheduled at 2025-10-25 17:32:49.408859+03:00)
2025-10-25 17:32:56,005 - apscheduler.executors.default - INFO - Job "auto_close_sessions (trigger: interval[0:01:00], next run at: 2025-10-25 17:33:49 EAT)" executed successfully
2025-10-25 17:33:00,491 - app - ERROR - Exception on /api/user [GET]
Traceback (most recent call last):
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/app.py", line 2190, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/app.py", line 1486, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask_cors/extension.py", line 176, in wrapped_function
    return cors_after_request(app.make_response(f(*args, **kwargs)))
                                                ^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/app.py", line 1484, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/app.py", line 1469, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask_login/utils.py", line 285, in decorated_view
    return current_app.login_manager.unauthorized()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask_login/login_manager.py", line 187, in unauthorized
    flash(self.login_message, category=self.login_message_category)
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/helpers.py", line 328, in flash
    session["_flashes"] = flashes
    ~~~~~~~^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/sessions.py", line 97, in _fail
    raise RuntimeError(
RuntimeError: The session is unavailable because no secret key was set.  Set the secret_key on the application to something unique and secret.
2025-10-25 17:33:00,557 - app - ERROR - Internal Server Error: 500 Internal Server Error: The server encountered an internal error and was unable to complete your request. Either the server is overloaded or there is an error in the application.
Traceback (most recent call last):
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/app.py", line 2190, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/app.py", line 1486, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask_cors/extension.py", line 176, in wrapped_function
    return cors_after_request(app.make_response(f(*args, **kwargs)))
                                                ^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/app.py", line 1484, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/app.py", line 1469, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask_login/utils.py", line 285, in decorated_view
    return current_app.login_manager.unauthorized()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask_login/login_manager.py", line 187, in unauthorized
    flash(self.login_message, category=self.login_message_category)
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/helpers.py", line 328, in flash
    session["_flashes"] = flashes
    ~~~~~~~^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/sessions.py", line 97, in _fail
    raise RuntimeError(
RuntimeError: The session is unavailable because no secret key was set.  Set the secret_key on the application to something unique and secret.
2025-10-25 17:33:34,577 - apscheduler.scheduler - INFO - Scheduler has been shut down
2025-10-25 17:33:56,403 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-10-25 17:33:56,406 - apscheduler.scheduler - INFO - Added job "keep_databases_alive" to job store "default"
2025-10-25 17:33:56,407 - apscheduler.scheduler - INFO - Scheduler started
2025-10-25 17:33:56,418 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-10-25 17:33:56,424 - apscheduler.scheduler - INFO - Added job "auto_close_sessions" to job store "default"
2025-10-25 17:33:56,425 - apscheduler.scheduler - INFO - Scheduler started
2025-10-25 17:33:56,442 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-10-25 17:33:56,443 - apscheduler.scheduler - INFO - Added job "delete_old_announcements" to job store "default"
2025-10-25 17:33:56,444 - apscheduler.scheduler - INFO - Scheduler started
2025-10-25 17:33:56,509 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-10-25 17:33:56,510 - apscheduler.scheduler - INFO - Added job "ping_urls" to job store "default"
2025-10-25 17:33:56,511 - apscheduler.scheduler - INFO - Scheduler started
2025-10-25 17:34:03,492 - app - ERROR - Exception on /main-page [GET]
Traceback (most recent call last):
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/app.py", line 2190, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/app.py", line 1486, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask_cors/extension.py", line 176, in wrapped_function
    return cors_after_request(app.make_response(f(*args, **kwargs)))
                                                ^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/app.py", line 1484, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/app.py", line 1469, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask_login/utils.py", line 285, in decorated_view
    return current_app.login_manager.unauthorized()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask_login/login_manager.py", line 187, in unauthorized
    flash(self.login_message, category=self.login_message_category)
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/helpers.py", line 328, in flash
    session["_flashes"] = flashes
    ~~~~~~~^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/sessions.py", line 97, in _fail
    raise RuntimeError(
RuntimeError: The session is unavailable because no secret key was set.  Set the secret_key on the application to something unique and secret.
2025-10-25 17:34:03,643 - app - ERROR - Internal Server Error: 500 Internal Server Error: The server encountered an internal error and was unable to complete your request. Either the server is overloaded or there is an error in the application.
Traceback (most recent call last):
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/app.py", line 2190, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/app.py", line 1486, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask_cors/extension.py", line 176, in wrapped_function
    return cors_after_request(app.make_response(f(*args, **kwargs)))
                                                ^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/app.py", line 1484, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/app.py", line 1469, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask_login/utils.py", line 285, in decorated_view
    return current_app.login_manager.unauthorized()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask_login/login_manager.py", line 187, in unauthorized
    flash(self.login_message, category=self.login_message_category)
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/helpers.py", line 328, in flash
    session["_flashes"] = flashes
    ~~~~~~~^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/sessions.py", line 97, in _fail
    raise RuntimeError(
RuntimeError: The session is unavailable because no secret key was set.  Set the secret_key on the application to something unique and secret.
2025-10-25 17:34:03,819 - app - ERROR - Exception on /main-page [GET]
Traceback (most recent call last):
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/app.py", line 2190, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/app.py", line 1486, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask_cors/extension.py", line 176, in wrapped_function
    return cors_after_request(app.make_response(f(*args, **kwargs)))
                                                ^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/app.py", line 1484, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/app.py", line 1469, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask_login/utils.py", line 285, in decorated_view
    return current_app.login_manager.unauthorized()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask_login/login_manager.py", line 187, in unauthorized
    flash(self.login_message, category=self.login_message_category)
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/helpers.py", line 328, in flash
    session["_flashes"] = flashes
    ~~~~~~~^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/sessions.py", line 97, in _fail
    raise RuntimeError(
RuntimeError: The session is unavailable because no secret key was set.  Set the secret_key on the application to something unique and secret.
2025-10-25 17:34:04,012 - app - ERROR - Internal Server Error: 500 Internal Server Error: The server encountered an internal error and was unable to complete your request. Either the server is overloaded or there is an error in the application.
Traceback (most recent call last):
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/app.py", line 2190, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/app.py", line 1486, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask_cors/extension.py", line 176, in wrapped_function
    return cors_after_request(app.make_response(f(*args, **kwargs)))
                                                ^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/app.py", line 1484, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/app.py", line 1469, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask_login/utils.py", line 285, in decorated_view
    return current_app.login_manager.unauthorized()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask_login/login_manager.py", line 187, in unauthorized
    flash(self.login_message, category=self.login_message_category)
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/helpers.py", line 328, in flash
    session["_flashes"] = flashes
    ~~~~~~~^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/sessions.py", line 97, in _fail
    raise RuntimeError(
RuntimeError: The session is unavailable because no secret key was set.  Set the secret_key on the application to something unique and secret.
2025-10-25 17:34:04,116 - app - ERROR - Exception on /main-page [GET]
Traceback (most recent call last):
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/app.py", line 2190, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/app.py", line 1486, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask_cors/extension.py", line 176, in wrapped_function
    return cors_after_request(app.make_response(f(*args, **kwargs)))
                                                ^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/app.py", line 1484, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/app.py", line 1469, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask_login/utils.py", line 285, in decorated_view
    return current_app.login_manager.unauthorized()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask_login/login_manager.py", line 187, in unauthorized
    flash(self.login_message, category=self.login_message_category)
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/helpers.py", line 328, in flash
    session["_flashes"] = flashes
    ~~~~~~~^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/sessions.py", line 97, in _fail
    raise RuntimeError(
RuntimeError: The session is unavailable because no secret key was set.  Set the secret_key on the application to something unique and secret.
2025-10-25 17:34:04,165 - app - ERROR - Internal Server Error: 500 Internal Server Error: The server encountered an internal error and was unable to complete your request. Either the server is overloaded or there is an error in the application.
Traceback (most recent call last):
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/app.py", line 2190, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/app.py", line 1486, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask_cors/extension.py", line 176, in wrapped_function
    return cors_after_request(app.make_response(f(*args, **kwargs)))
                                                ^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/app.py", line 1484, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/app.py", line 1469, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask_login/utils.py", line 285, in decorated_view
    return current_app.login_manager.unauthorized()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask_login/login_manager.py", line 187, in unauthorized
    flash(self.login_message, category=self.login_message_category)
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/helpers.py", line 328, in flash
    session["_flashes"] = flashes
    ~~~~~~~^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/sessions.py", line 97, in _fail
    raise RuntimeError(
RuntimeError: The session is unavailable because no secret key was set.  Set the secret_key on the application to something unique and secret.
2025-10-25 17:34:04,429 - app - ERROR - Exception on /main-page [GET]
Traceback (most recent call last):
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/app.py", line 2190, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/app.py", line 1486, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask_cors/extension.py", line 176, in wrapped_function
    return cors_after_request(app.make_response(f(*args, **kwargs)))
                                                ^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/app.py", line 1484, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/app.py", line 1469, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask_login/utils.py", line 285, in decorated_view
    return current_app.login_manager.unauthorized()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask_login/login_manager.py", line 187, in unauthorized
    flash(self.login_message, category=self.login_message_category)
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/helpers.py", line 328, in flash
    session["_flashes"] = flashes
    ~~~~~~~^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/sessions.py", line 97, in _fail
    raise RuntimeError(
RuntimeError: The session is unavailable because no secret key was set.  Set the secret_key on the application to something unique and secret.
2025-10-25 17:34:04,469 - app - ERROR - Internal Server Error: 500 Internal Server Error: The server encountered an internal error and was unable to complete your request. Either the server is overloaded or there is an error in the application.
Traceback (most recent call last):
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/app.py", line 2190, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/app.py", line 1486, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask_cors/extension.py", line 176, in wrapped_function
    return cors_after_request(app.make_response(f(*args, **kwargs)))
                                                ^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/app.py", line 1484, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/app.py", line 1469, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask_login/utils.py", line 285, in decorated_view
    return current_app.login_manager.unauthorized()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask_login/login_manager.py", line 187, in unauthorized
    flash(self.login_message, category=self.login_message_category)
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/helpers.py", line 328, in flash
    session["_flashes"] = flashes
    ~~~~~~~^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/sessions.py", line 97, in _fail
    raise RuntimeError(
RuntimeError: The session is unavailable because no secret key was set.  Set the secret_key on the application to something unique and secret.
2025-10-25 17:34:04,533 - app - ERROR - Exception on /main-page [GET]
Traceback (most recent call last):
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/app.py", line 2190, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/app.py", line 1486, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask_cors/extension.py", line 176, in wrapped_function
    return cors_after_request(app.make_response(f(*args, **kwargs)))
                                                ^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/app.py", line 1484, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/app.py", line 1469, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask_login/utils.py", line 285, in decorated_view
    return current_app.login_manager.unauthorized()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask_login/login_manager.py", line 187, in unauthorized
    flash(self.login_message, category=self.login_message_category)
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/helpers.py", line 328, in flash
    session["_flashes"] = flashes
    ~~~~~~~^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/sessions.py", line 97, in _fail
    raise RuntimeError(
RuntimeError: The session is unavailable because no secret key was set.  Set the secret_key on the application to something unique and secret.
2025-10-25 17:34:04,631 - app - ERROR - Internal Server Error: 500 Internal Server Error: The server encountered an internal error and was unable to complete your request. Either the server is overloaded or there is an error in the application.
Traceback (most recent call last):
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/app.py", line 2190, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/app.py", line 1486, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask_cors/extension.py", line 176, in wrapped_function
    return cors_after_request(app.make_response(f(*args, **kwargs)))
                                                ^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/app.py", line 1484, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/app.py", line 1469, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask_login/utils.py", line 285, in decorated_view
    return current_app.login_manager.unauthorized()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask_login/login_manager.py", line 187, in unauthorized
    flash(self.login_message, category=self.login_message_category)
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/helpers.py", line 328, in flash
    session["_flashes"] = flashes
    ~~~~~~~^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/sessions.py", line 97, in _fail
    raise RuntimeError(
RuntimeError: The session is unavailable because no secret key was set.  Set the secret_key on the application to something unique and secret.
2025-10-25 17:34:04,728 - app - ERROR - Exception on /main-page [GET]
Traceback (most recent call last):
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/app.py", line 2190, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/app.py", line 1486, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask_cors/extension.py", line 176, in wrapped_function
    return cors_after_request(app.make_response(f(*args, **kwargs)))
                                                ^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/app.py", line 1484, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/app.py", line 1469, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask_login/utils.py", line 285, in decorated_view
    return current_app.login_manager.unauthorized()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask_login/login_manager.py", line 187, in unauthorized
    flash(self.login_message, category=self.login_message_category)
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/helpers.py", line 328, in flash
    session["_flashes"] = flashes
    ~~~~~~~^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/sessions.py", line 97, in _fail
    raise RuntimeError(
RuntimeError: The session is unavailable because no secret key was set.  Set the secret_key on the application to something unique and secret.
2025-10-25 17:34:04,786 - app - ERROR - Internal Server Error: 500 Internal Server Error: The server encountered an internal error and was unable to complete your request. Either the server is overloaded or there is an error in the application.
Traceback (most recent call last):
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/app.py", line 2190, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/app.py", line 1486, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask_cors/extension.py", line 176, in wrapped_function
    return cors_after_request(app.make_response(f(*args, **kwargs)))
                                                ^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/app.py", line 1484, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/app.py", line 1469, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask_login/utils.py", line 285, in decorated_view
    return current_app.login_manager.unauthorized()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask_login/login_manager.py", line 187, in unauthorized
    flash(self.login_message, category=self.login_message_category)
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/helpers.py", line 328, in flash
    session["_flashes"] = flashes
    ~~~~~~~^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/sessions.py", line 97, in _fail
    raise RuntimeError(
RuntimeError: The session is unavailable because no secret key was set.  Set the secret_key on the application to something unique and secret.
2025-10-25 17:34:04,953 - app - ERROR - Exception on /api/user [GET]
Traceback (most recent call last):
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/app.py", line 2190, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/app.py", line 1486, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask_cors/extension.py", line 176, in wrapped_function
    return cors_after_request(app.make_response(f(*args, **kwargs)))
                                                ^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/app.py", line 1484, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/app.py", line 1469, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask_login/utils.py", line 285, in decorated_view
    return current_app.login_manager.unauthorized()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask_login/login_manager.py", line 187, in unauthorized
    flash(self.login_message, category=self.login_message_category)
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/helpers.py", line 328, in flash
    session["_flashes"] = flashes
    ~~~~~~~^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/sessions.py", line 97, in _fail
    raise RuntimeError(
RuntimeError: The session is unavailable because no secret key was set.  Set the secret_key on the application to something unique and secret.
2025-10-25 17:34:05,011 - app - ERROR - Internal Server Error: 500 Internal Server Error: The server encountered an internal error and was unable to complete your request. Either the server is overloaded or there is an error in the application.
Traceback (most recent call last):
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/app.py", line 2190, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/app.py", line 1486, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask_cors/extension.py", line 176, in wrapped_function
    return cors_after_request(app.make_response(f(*args, **kwargs)))
                                                ^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/app.py", line 1484, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/app.py", line 1469, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask_login/utils.py", line 285, in decorated_view
    return current_app.login_manager.unauthorized()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask_login/login_manager.py", line 187, in unauthorized
    flash(self.login_message, category=self.login_message_category)
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/helpers.py", line 328, in flash
    session["_flashes"] = flashes
    ~~~~~~~^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/sessions.py", line 97, in _fail
    raise RuntimeError(
RuntimeError: The session is unavailable because no secret key was set.  Set the secret_key on the application to something unique and secret.
2025-10-25 17:34:05,930 - app - ERROR - Exception on /main-page [GET]
Traceback (most recent call last):
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/app.py", line 2190, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/app.py", line 1486, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask_cors/extension.py", line 176, in wrapped_function
    return cors_after_request(app.make_response(f(*args, **kwargs)))
                                                ^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/app.py", line 1484, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/app.py", line 1469, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask_login/utils.py", line 285, in decorated_view
    return current_app.login_manager.unauthorized()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask_login/login_manager.py", line 187, in unauthorized
    flash(self.login_message, category=self.login_message_category)
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/helpers.py", line 328, in flash
    session["_flashes"] = flashes
    ~~~~~~~^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/sessions.py", line 97, in _fail
    raise RuntimeError(
RuntimeError: The session is unavailable because no secret key was set.  Set the secret_key on the application to something unique and secret.
2025-10-25 17:34:06,095 - app - ERROR - Internal Server Error: 500 Internal Server Error: The server encountered an internal error and was unable to complete your request. Either the server is overloaded or there is an error in the application.
Traceback (most recent call last):
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/app.py", line 2190, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/app.py", line 1486, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask_cors/extension.py", line 176, in wrapped_function
    return cors_after_request(app.make_response(f(*args, **kwargs)))
                                                ^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/app.py", line 1484, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/app.py", line 1469, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask_login/utils.py", line 285, in decorated_view
    return current_app.login_manager.unauthorized()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask_login/login_manager.py", line 187, in unauthorized
    flash(self.login_message, category=self.login_message_category)
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/helpers.py", line 328, in flash
    session["_flashes"] = flashes
    ~~~~~~~^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/sessions.py", line 97, in _fail
    raise RuntimeError(
RuntimeError: The session is unavailable because no secret key was set.  Set the secret_key on the application to something unique and secret.
2025-10-25 17:34:06,379 - app - ERROR - Exception on /api/user [GET]
Traceback (most recent call last):
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/app.py", line 2190, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/app.py", line 1486, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask_cors/extension.py", line 176, in wrapped_function
    return cors_after_request(app.make_response(f(*args, **kwargs)))
                                                ^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/app.py", line 1484, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/app.py", line 1469, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask_login/utils.py", line 285, in decorated_view
    return current_app.login_manager.unauthorized()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask_login/login_manager.py", line 187, in unauthorized
    flash(self.login_message, category=self.login_message_category)
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/helpers.py", line 328, in flash
    session["_flashes"] = flashes
    ~~~~~~~^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/sessions.py", line 97, in _fail
    raise RuntimeError(
RuntimeError: The session is unavailable because no secret key was set.  Set the secret_key on the application to something unique and secret.
2025-10-25 17:34:06,478 - app - ERROR - Internal Server Error: 500 Internal Server Error: The server encountered an internal error and was unable to complete your request. Either the server is overloaded or there is an error in the application.
Traceback (most recent call last):
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/app.py", line 2190, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/app.py", line 1486, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask_cors/extension.py", line 176, in wrapped_function
    return cors_after_request(app.make_response(f(*args, **kwargs)))
                                                ^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/app.py", line 1484, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/app.py", line 1469, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask_login/utils.py", line 285, in decorated_view
    return current_app.login_manager.unauthorized()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask_login/login_manager.py", line 187, in unauthorized
    flash(self.login_message, category=self.login_message_category)
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/helpers.py", line 328, in flash
    session["_flashes"] = flashes
    ~~~~~~~^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/sessions.py", line 97, in _fail
    raise RuntimeError(
RuntimeError: The session is unavailable because no secret key was set.  Set the secret_key on the application to something unique and secret.
2025-10-25 17:34:07,227 - app - ERROR - Exception on /main-page [GET]
Traceback (most recent call last):
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/app.py", line 2190, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/app.py", line 1486, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask_cors/extension.py", line 176, in wrapped_function
    return cors_after_request(app.make_response(f(*args, **kwargs)))
                                                ^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/app.py", line 1484, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/app.py", line 1469, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask_login/utils.py", line 285, in decorated_view
    return current_app.login_manager.unauthorized()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask_login/login_manager.py", line 187, in unauthorized
    flash(self.login_message, category=self.login_message_category)
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/helpers.py", line 328, in flash
    session["_flashes"] = flashes
    ~~~~~~~^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/sessions.py", line 97, in _fail
    raise RuntimeError(
RuntimeError: The session is unavailable because no secret key was set.  Set the secret_key on the application to something unique and secret.
2025-10-25 17:34:07,362 - app - ERROR - Internal Server Error: 500 Internal Server Error: The server encountered an internal error and was unable to complete your request. Either the server is overloaded or there is an error in the application.
Traceback (most recent call last):
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/app.py", line 2190, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/app.py", line 1486, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask_cors/extension.py", line 176, in wrapped_function
    return cors_after_request(app.make_response(f(*args, **kwargs)))
                                                ^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/app.py", line 1484, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/app.py", line 1469, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask_login/utils.py", line 285, in decorated_view
    return current_app.login_manager.unauthorized()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask_login/login_manager.py", line 187, in unauthorized
    flash(self.login_message, category=self.login_message_category)
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/helpers.py", line 328, in flash
    session["_flashes"] = flashes
    ~~~~~~~^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/sessions.py", line 97, in _fail
    raise RuntimeError(
RuntimeError: The session is unavailable because no secret key was set.  Set the secret_key on the application to something unique and secret.
2025-10-25 17:34:07,557 - app - ERROR - Exception on /main-page [GET]
Traceback (most recent call last):
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/app.py", line 2190, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/app.py", line 1486, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask_cors/extension.py", line 176, in wrapped_function
    return cors_after_request(app.make_response(f(*args, **kwargs)))
                                                ^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/app.py", line 1484, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/app.py", line 1469, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask_login/utils.py", line 285, in decorated_view
    return current_app.login_manager.unauthorized()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask_login/login_manager.py", line 187, in unauthorized
    flash(self.login_message, category=self.login_message_category)
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/helpers.py", line 328, in flash
    session["_flashes"] = flashes
    ~~~~~~~^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/sessions.py", line 97, in _fail
    raise RuntimeError(
RuntimeError: The session is unavailable because no secret key was set.  Set the secret_key on the application to something unique and secret.
2025-10-25 17:34:07,610 - app - ERROR - Internal Server Error: 500 Internal Server Error: The server encountered an internal error and was unable to complete your request. Either the server is overloaded or there is an error in the application.
Traceback (most recent call last):
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/app.py", line 2190, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/app.py", line 1486, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask_cors/extension.py", line 176, in wrapped_function
    return cors_after_request(app.make_response(f(*args, **kwargs)))
                                                ^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/app.py", line 1484, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/app.py", line 1469, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask_login/utils.py", line 285, in decorated_view
    return current_app.login_manager.unauthorized()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask_login/login_manager.py", line 187, in unauthorized
    flash(self.login_message, category=self.login_message_category)
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/helpers.py", line 328, in flash
    session["_flashes"] = flashes
    ~~~~~~~^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/sessions.py", line 97, in _fail
    raise RuntimeError(
RuntimeError: The session is unavailable because no secret key was set.  Set the secret_key on the application to something unique and secret.
2025-10-25 17:34:07,796 - app - ERROR - Exception on /api/user [GET]
Traceback (most recent call last):
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/app.py", line 2190, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/app.py", line 1486, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask_cors/extension.py", line 176, in wrapped_function
    return cors_after_request(app.make_response(f(*args, **kwargs)))
                                                ^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/app.py", line 1484, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/app.py", line 1469, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask_login/utils.py", line 285, in decorated_view
    return current_app.login_manager.unauthorized()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask_login/login_manager.py", line 187, in unauthorized
    flash(self.login_message, category=self.login_message_category)
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/helpers.py", line 328, in flash
    session["_flashes"] = flashes
    ~~~~~~~^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/sessions.py", line 97, in _fail
    raise RuntimeError(
RuntimeError: The session is unavailable because no secret key was set.  Set the secret_key on the application to something unique and secret.
2025-10-25 17:34:07,864 - app - ERROR - Internal Server Error: 500 Internal Server Error: The server encountered an internal error and was unable to complete your request. Either the server is overloaded or there is an error in the application.
Traceback (most recent call last):
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/app.py", line 2190, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/app.py", line 1486, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask_cors/extension.py", line 176, in wrapped_function
    return cors_after_request(app.make_response(f(*args, **kwargs)))
                                                ^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/app.py", line 1484, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/app.py", line 1469, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask_login/utils.py", line 285, in decorated_view
    return current_app.login_manager.unauthorized()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask_login/login_manager.py", line 187, in unauthorized
    flash(self.login_message, category=self.login_message_category)
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/helpers.py", line 328, in flash
    session["_flashes"] = flashes
    ~~~~~~~^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/sessions.py", line 97, in _fail
    raise RuntimeError(
RuntimeError: The session is unavailable because no secret key was set.  Set the secret_key on the application to something unique and secret.
2025-10-25 17:34:09,391 - app - ERROR - Exception on /main-page [GET]
Traceback (most recent call last):
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/app.py", line 2190, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/app.py", line 1486, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask_cors/extension.py", line 176, in wrapped_function
    return cors_after_request(app.make_response(f(*args, **kwargs)))
                                                ^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/app.py", line 1484, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/app.py", line 1469, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask_login/utils.py", line 285, in decorated_view
    return current_app.login_manager.unauthorized()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask_login/login_manager.py", line 187, in unauthorized
    flash(self.login_message, category=self.login_message_category)
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/helpers.py", line 328, in flash
    session["_flashes"] = flashes
    ~~~~~~~^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/sessions.py", line 97, in _fail
    raise RuntimeError(
RuntimeError: The session is unavailable because no secret key was set.  Set the secret_key on the application to something unique and secret.
2025-10-25 17:34:09,529 - app - ERROR - Internal Server Error: 500 Internal Server Error: The server encountered an internal error and was unable to complete your request. Either the server is overloaded or there is an error in the application.
Traceback (most recent call last):
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/app.py", line 2190, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/app.py", line 1486, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask_cors/extension.py", line 176, in wrapped_function
    return cors_after_request(app.make_response(f(*args, **kwargs)))
                                                ^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/app.py", line 1484, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/app.py", line 1469, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask_login/utils.py", line 285, in decorated_view
    return current_app.login_manager.unauthorized()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask_login/login_manager.py", line 187, in unauthorized
    flash(self.login_message, category=self.login_message_category)
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/helpers.py", line 328, in flash
    session["_flashes"] = flashes
    ~~~~~~~^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/sessions.py", line 97, in _fail
    raise RuntimeError(
RuntimeError: The session is unavailable because no secret key was set.  Set the secret_key on the application to something unique and secret.
2025-10-25 17:34:09,828 - app - ERROR - Exception on /api/user [GET]
Traceback (most recent call last):
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/app.py", line 2190, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/app.py", line 1486, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask_cors/extension.py", line 176, in wrapped_function
    return cors_after_request(app.make_response(f(*args, **kwargs)))
                                                ^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/app.py", line 1484, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/app.py", line 1469, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask_login/utils.py", line 285, in decorated_view
    return current_app.login_manager.unauthorized()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask_login/login_manager.py", line 187, in unauthorized
    flash(self.login_message, category=self.login_message_category)
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/helpers.py", line 328, in flash
    session["_flashes"] = flashes
    ~~~~~~~^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/sessions.py", line 97, in _fail
    raise RuntimeError(
RuntimeError: The session is unavailable because no secret key was set.  Set the secret_key on the application to something unique and secret.
2025-10-25 17:34:09,963 - app - ERROR - Internal Server Error: 500 Internal Server Error: The server encountered an internal error and was unable to complete your request. Either the server is overloaded or there is an error in the application.
Traceback (most recent call last):
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/app.py", line 2190, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/app.py", line 1486, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask_cors/extension.py", line 176, in wrapped_function
    return cors_after_request(app.make_response(f(*args, **kwargs)))
                                                ^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/app.py", line 1484, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/app.py", line 1469, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask_login/utils.py", line 285, in decorated_view
    return current_app.login_manager.unauthorized()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask_login/login_manager.py", line 187, in unauthorized
    flash(self.login_message, category=self.login_message_category)
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/helpers.py", line 328, in flash
    session["_flashes"] = flashes
    ~~~~~~~^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/sessions.py", line 97, in _fail
    raise RuntimeError(
RuntimeError: The session is unavailable because no secret key was set.  Set the secret_key on the application to something unique and secret.
2025-10-25 17:34:56,420 - apscheduler.executors.default - INFO - Running job "auto_close_sessions (trigger: interval[0:01:00], next run at: 2025-10-25 17:34:56 EAT)" (scheduled at 2025-10-25 17:34:56.417865+03:00)
2025-10-25 17:35:04,095 - apscheduler.executors.default - INFO - Job "auto_close_sessions (trigger: interval[0:01:00], next run at: 2025-10-25 17:35:56 EAT)" executed successfully
2025-10-25 17:35:09,834 - app - ERROR - Exception on /api/user [GET]
Traceback (most recent call last):
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/app.py", line 2190, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/app.py", line 1486, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask_cors/extension.py", line 176, in wrapped_function
    return cors_after_request(app.make_response(f(*args, **kwargs)))
                                                ^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/app.py", line 1484, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/app.py", line 1469, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask_login/utils.py", line 285, in decorated_view
    return current_app.login_manager.unauthorized()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask_login/login_manager.py", line 187, in unauthorized
    flash(self.login_message, category=self.login_message_category)
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/helpers.py", line 328, in flash
    session["_flashes"] = flashes
    ~~~~~~~^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/sessions.py", line 97, in _fail
    raise RuntimeError(
RuntimeError: The session is unavailable because no secret key was set.  Set the secret_key on the application to something unique and secret.
2025-10-25 17:35:09,872 - app - ERROR - Internal Server Error: 500 Internal Server Error: The server encountered an internal error and was unable to complete your request. Either the server is overloaded or there is an error in the application.
Traceback (most recent call last):
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/app.py", line 2190, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/app.py", line 1486, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask_cors/extension.py", line 176, in wrapped_function
    return cors_after_request(app.make_response(f(*args, **kwargs)))
                                                ^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/app.py", line 1484, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/app.py", line 1469, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask_login/utils.py", line 285, in decorated_view
    return current_app.login_manager.unauthorized()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask_login/login_manager.py", line 187, in unauthorized
    flash(self.login_message, category=self.login_message_category)
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/helpers.py", line 328, in flash
    session["_flashes"] = flashes
    ~~~~~~~^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/sessions.py", line 97, in _fail
    raise RuntimeError(
RuntimeError: The session is unavailable because no secret key was set.  Set the secret_key on the application to something unique and secret.
2025-10-25 17:35:30,040 - app - ERROR - Exception on /main-page [GET]
Traceback (most recent call last):
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/app.py", line 2190, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/app.py", line 1486, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask_cors/extension.py", line 176, in wrapped_function
    return cors_after_request(app.make_response(f(*args, **kwargs)))
                                                ^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/app.py", line 1484, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/app.py", line 1469, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask_login/utils.py", line 285, in decorated_view
    return current_app.login_manager.unauthorized()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask_login/login_manager.py", line 187, in unauthorized
    flash(self.login_message, category=self.login_message_category)
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/helpers.py", line 328, in flash
    session["_flashes"] = flashes
    ~~~~~~~^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/sessions.py", line 97, in _fail
    raise RuntimeError(
RuntimeError: The session is unavailable because no secret key was set.  Set the secret_key on the application to something unique and secret.
2025-10-25 17:35:30,155 - app - ERROR - Internal Server Error: 500 Internal Server Error: The server encountered an internal error and was unable to complete your request. Either the server is overloaded or there is an error in the application.
Traceback (most recent call last):
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/app.py", line 2190, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/app.py", line 1486, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask_cors/extension.py", line 176, in wrapped_function
    return cors_after_request(app.make_response(f(*args, **kwargs)))
                                                ^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/app.py", line 1484, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/app.py", line 1469, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask_login/utils.py", line 285, in decorated_view
    return current_app.login_manager.unauthorized()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask_login/login_manager.py", line 187, in unauthorized
    flash(self.login_message, category=self.login_message_category)
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/helpers.py", line 328, in flash
    session["_flashes"] = flashes
    ~~~~~~~^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/sessions.py", line 97, in _fail
    raise RuntimeError(
RuntimeError: The session is unavailable because no secret key was set.  Set the secret_key on the application to something unique and secret.
2025-10-25 17:35:30,396 - app - ERROR - Exception on /api/user [GET]
Traceback (most recent call last):
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/app.py", line 2190, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/app.py", line 1486, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask_cors/extension.py", line 176, in wrapped_function
    return cors_after_request(app.make_response(f(*args, **kwargs)))
                                                ^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/app.py", line 1484, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/app.py", line 1469, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask_login/utils.py", line 285, in decorated_view
    return current_app.login_manager.unauthorized()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask_login/login_manager.py", line 187, in unauthorized
    flash(self.login_message, category=self.login_message_category)
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/helpers.py", line 328, in flash
    session["_flashes"] = flashes
    ~~~~~~~^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/sessions.py", line 97, in _fail
    raise RuntimeError(
RuntimeError: The session is unavailable because no secret key was set.  Set the secret_key on the application to something unique and secret.
2025-10-25 17:35:30,500 - app - ERROR - Internal Server Error: 500 Internal Server Error: The server encountered an internal error and was unable to complete your request. Either the server is overloaded or there is an error in the application.
Traceback (most recent call last):
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/app.py", line 2190, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/app.py", line 1486, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask_cors/extension.py", line 176, in wrapped_function
    return cors_after_request(app.make_response(f(*args, **kwargs)))
                                                ^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/app.py", line 1484, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/app.py", line 1469, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask_login/utils.py", line 285, in decorated_view
    return current_app.login_manager.unauthorized()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask_login/login_manager.py", line 187, in unauthorized
    flash(self.login_message, category=self.login_message_category)
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/helpers.py", line 328, in flash
    session["_flashes"] = flashes
    ~~~~~~~^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/sessions.py", line 97, in _fail
    raise RuntimeError(
RuntimeError: The session is unavailable because no secret key was set.  Set the secret_key on the application to something unique and secret.
2025-10-25 17:35:56,419 - apscheduler.executors.default - INFO - Running job "auto_close_sessions (trigger: interval[0:01:00], next run at: 2025-10-25 17:36:56 EAT)" (scheduled at 2025-10-25 17:35:56.417865+03:00)
2025-10-25 17:36:01,476 - apscheduler.executors.default - INFO - Job "auto_close_sessions (trigger: interval[0:01:00], next run at: 2025-10-25 17:36:56 EAT)" executed successfully
2025-10-25 17:36:31,273 - app - ERROR - Exception on /api/user [GET]
Traceback (most recent call last):
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/app.py", line 2190, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/app.py", line 1486, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask_cors/extension.py", line 176, in wrapped_function
    return cors_after_request(app.make_response(f(*args, **kwargs)))
                                                ^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/app.py", line 1484, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/app.py", line 1469, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask_login/utils.py", line 285, in decorated_view
    return current_app.login_manager.unauthorized()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask_login/login_manager.py", line 187, in unauthorized
    flash(self.login_message, category=self.login_message_category)
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/helpers.py", line 328, in flash
    session["_flashes"] = flashes
    ~~~~~~~^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/sessions.py", line 97, in _fail
    raise RuntimeError(
RuntimeError: The session is unavailable because no secret key was set.  Set the secret_key on the application to something unique and secret.
2025-10-25 17:36:31,295 - app - ERROR - Internal Server Error: 500 Internal Server Error: The server encountered an internal error and was unable to complete your request. Either the server is overloaded or there is an error in the application.
Traceback (most recent call last):
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/app.py", line 2190, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/app.py", line 1486, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask_cors/extension.py", line 176, in wrapped_function
    return cors_after_request(app.make_response(f(*args, **kwargs)))
                                                ^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/app.py", line 1484, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/app.py", line 1469, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask_login/utils.py", line 285, in decorated_view
    return current_app.login_manager.unauthorized()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask_login/login_manager.py", line 187, in unauthorized
    flash(self.login_message, category=self.login_message_category)
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/helpers.py", line 328, in flash
    session["_flashes"] = flashes
    ~~~~~~~^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/sessions.py", line 97, in _fail
    raise RuntimeError(
RuntimeError: The session is unavailable because no secret key was set.  Set the secret_key on the application to something unique and secret.
2025-10-25 17:36:38,001 - app - ERROR - Exception on /main-page [GET]
Traceback (most recent call last):
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/app.py", line 2190, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/app.py", line 1486, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask_cors/extension.py", line 176, in wrapped_function
    return cors_after_request(app.make_response(f(*args, **kwargs)))
                                                ^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/app.py", line 1484, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/app.py", line 1469, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask_login/utils.py", line 285, in decorated_view
    return current_app.login_manager.unauthorized()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask_login/login_manager.py", line 187, in unauthorized
    flash(self.login_message, category=self.login_message_category)
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/helpers.py", line 328, in flash
    session["_flashes"] = flashes
    ~~~~~~~^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/sessions.py", line 97, in _fail
    raise RuntimeError(
RuntimeError: The session is unavailable because no secret key was set.  Set the secret_key on the application to something unique and secret.
2025-10-25 17:36:38,093 - app - ERROR - Internal Server Error: 500 Internal Server Error: The server encountered an internal error and was unable to complete your request. Either the server is overloaded or there is an error in the application.
Traceback (most recent call last):
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/app.py", line 2190, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/app.py", line 1486, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask_cors/extension.py", line 176, in wrapped_function
    return cors_after_request(app.make_response(f(*args, **kwargs)))
                                                ^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/app.py", line 1484, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/app.py", line 1469, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask_login/utils.py", line 285, in decorated_view
    return current_app.login_manager.unauthorized()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask_login/login_manager.py", line 187, in unauthorized
    flash(self.login_message, category=self.login_message_category)
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/helpers.py", line 328, in flash
    session["_flashes"] = flashes
    ~~~~~~~^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/sessions.py", line 97, in _fail
    raise RuntimeError(
RuntimeError: The session is unavailable because no secret key was set.  Set the secret_key on the application to something unique and secret.
2025-10-25 17:36:38,369 - app - ERROR - Exception on /api/user [GET]
Traceback (most recent call last):
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/app.py", line 2190, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/app.py", line 1486, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask_cors/extension.py", line 176, in wrapped_function
    return cors_after_request(app.make_response(f(*args, **kwargs)))
                                                ^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/app.py", line 1484, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/app.py", line 1469, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask_login/utils.py", line 285, in decorated_view
    return current_app.login_manager.unauthorized()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask_login/login_manager.py", line 187, in unauthorized
    flash(self.login_message, category=self.login_message_category)
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/helpers.py", line 328, in flash
    session["_flashes"] = flashes
    ~~~~~~~^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/sessions.py", line 97, in _fail
    raise RuntimeError(
RuntimeError: The session is unavailable because no secret key was set.  Set the secret_key on the application to something unique and secret.
2025-10-25 17:36:38,440 - app - ERROR - Internal Server Error: 500 Internal Server Error: The server encountered an internal error and was unable to complete your request. Either the server is overloaded or there is an error in the application.
Traceback (most recent call last):
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/app.py", line 2190, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/app.py", line 1486, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask_cors/extension.py", line 176, in wrapped_function
    return cors_after_request(app.make_response(f(*args, **kwargs)))
                                                ^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/app.py", line 1484, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/app.py", line 1469, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask_login/utils.py", line 285, in decorated_view
    return current_app.login_manager.unauthorized()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask_login/login_manager.py", line 187, in unauthorized
    flash(self.login_message, category=self.login_message_category)
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/helpers.py", line 328, in flash
    session["_flashes"] = flashes
    ~~~~~~~^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/sessions.py", line 97, in _fail
    raise RuntimeError(
RuntimeError: The session is unavailable because no secret key was set.  Set the secret_key on the application to something unique and secret.
2025-10-25 17:36:53,569 - app - ERROR - Exception on /main-page [GET]
Traceback (most recent call last):
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/app.py", line 2190, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/app.py", line 1486, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask_cors/extension.py", line 176, in wrapped_function
    return cors_after_request(app.make_response(f(*args, **kwargs)))
                                                ^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/app.py", line 1484, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/app.py", line 1469, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask_login/utils.py", line 285, in decorated_view
    return current_app.login_manager.unauthorized()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask_login/login_manager.py", line 187, in unauthorized
    flash(self.login_message, category=self.login_message_category)
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/helpers.py", line 328, in flash
    session["_flashes"] = flashes
    ~~~~~~~^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/sessions.py", line 97, in _fail
    raise RuntimeError(
RuntimeError: The session is unavailable because no secret key was set.  Set the secret_key on the application to something unique and secret.
2025-10-25 17:36:53,636 - app - ERROR - Internal Server Error: 500 Internal Server Error: The server encountered an internal error and was unable to complete your request. Either the server is overloaded or there is an error in the application.
Traceback (most recent call last):
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/app.py", line 2190, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/app.py", line 1486, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask_cors/extension.py", line 176, in wrapped_function
    return cors_after_request(app.make_response(f(*args, **kwargs)))
                                                ^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/app.py", line 1484, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/app.py", line 1469, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask_login/utils.py", line 285, in decorated_view
    return current_app.login_manager.unauthorized()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask_login/login_manager.py", line 187, in unauthorized
    flash(self.login_message, category=self.login_message_category)
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/helpers.py", line 328, in flash
    session["_flashes"] = flashes
    ~~~~~~~^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/sessions.py", line 97, in _fail
    raise RuntimeError(
RuntimeError: The session is unavailable because no secret key was set.  Set the secret_key on the application to something unique and secret.
2025-10-25 17:36:53,925 - app - ERROR - Exception on /api/user [GET]
Traceback (most recent call last):
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/app.py", line 2190, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/app.py", line 1486, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask_cors/extension.py", line 176, in wrapped_function
    return cors_after_request(app.make_response(f(*args, **kwargs)))
                                                ^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/app.py", line 1484, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/app.py", line 1469, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask_login/utils.py", line 285, in decorated_view
    return current_app.login_manager.unauthorized()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask_login/login_manager.py", line 187, in unauthorized
    flash(self.login_message, category=self.login_message_category)
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/helpers.py", line 328, in flash
    session["_flashes"] = flashes
    ~~~~~~~^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/sessions.py", line 97, in _fail
    raise RuntimeError(
RuntimeError: The session is unavailable because no secret key was set.  Set the secret_key on the application to something unique and secret.
2025-10-25 17:36:53,992 - app - ERROR - Internal Server Error: 500 Internal Server Error: The server encountered an internal error and was unable to complete your request. Either the server is overloaded or there is an error in the application.
Traceback (most recent call last):
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/app.py", line 2190, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/app.py", line 1486, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask_cors/extension.py", line 176, in wrapped_function
    return cors_after_request(app.make_response(f(*args, **kwargs)))
                                                ^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/app.py", line 1484, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/app.py", line 1469, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask_login/utils.py", line 285, in decorated_view
    return current_app.login_manager.unauthorized()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask_login/login_manager.py", line 187, in unauthorized
    flash(self.login_message, category=self.login_message_category)
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/helpers.py", line 328, in flash
    session["_flashes"] = flashes
    ~~~~~~~^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/sessions.py", line 97, in _fail
    raise RuntimeError(
RuntimeError: The session is unavailable because no secret key was set.  Set the secret_key on the application to something unique and secret.
2025-10-25 17:36:56,404 - apscheduler.executors.default - INFO - Running job "keep_databases_alive (trigger: interval[0:03:00], next run at: 2025-10-25 17:36:56 EAT)" (scheduled at 2025-10-25 17:36:56.403501+03:00)
2025-10-25 17:36:56,476 - apscheduler.executors.default - INFO - Running job "auto_close_sessions (trigger: interval[0:01:00], next run at: 2025-10-25 17:37:56 EAT)" (scheduled at 2025-10-25 17:36:56.417865+03:00)
2025-10-25 17:36:56,516 - apscheduler.executors.default - INFO - Running job "ping_urls (trigger: interval[0:03:00], next run at: 2025-10-25 17:36:56 EAT)" (scheduled at 2025-10-25 17:36:56.509784+03:00)
2025-10-25 17:36:59,909 - apscheduler.executors.default - INFO - Job "ping_urls (trigger: interval[0:03:00], next run at: 2025-10-25 17:39:56 EAT)" executed successfully
2025-10-25 17:37:01,739 - apscheduler.executors.default - INFO - Job "auto_close_sessions (trigger: interval[0:01:00], next run at: 2025-10-25 17:37:56 EAT)" executed successfully
2025-10-25 17:37:07,525 - apscheduler.executors.default - INFO - Job "keep_databases_alive (trigger: interval[0:03:00], next run at: 2025-10-25 17:39:56 EAT)" executed successfully
2025-10-25 17:37:54,399 - app - ERROR - Exception on /api/user [GET]
Traceback (most recent call last):
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/app.py", line 2190, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/app.py", line 1486, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask_cors/extension.py", line 176, in wrapped_function
    return cors_after_request(app.make_response(f(*args, **kwargs)))
                                                ^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/app.py", line 1484, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/app.py", line 1469, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask_login/utils.py", line 285, in decorated_view
    return current_app.login_manager.unauthorized()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask_login/login_manager.py", line 187, in unauthorized
    flash(self.login_message, category=self.login_message_category)
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/helpers.py", line 328, in flash
    session["_flashes"] = flashes
    ~~~~~~~^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/sessions.py", line 97, in _fail
    raise RuntimeError(
RuntimeError: The session is unavailable because no secret key was set.  Set the secret_key on the application to something unique and secret.
2025-10-25 17:37:54,424 - app - ERROR - Internal Server Error: 500 Internal Server Error: The server encountered an internal error and was unable to complete your request. Either the server is overloaded or there is an error in the application.
Traceback (most recent call last):
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/app.py", line 2190, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/app.py", line 1486, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask_cors/extension.py", line 176, in wrapped_function
    return cors_after_request(app.make_response(f(*args, **kwargs)))
                                                ^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/app.py", line 1484, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/app.py", line 1469, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask_login/utils.py", line 285, in decorated_view
    return current_app.login_manager.unauthorized()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask_login/login_manager.py", line 187, in unauthorized
    flash(self.login_message, category=self.login_message_category)
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/helpers.py", line 328, in flash
    session["_flashes"] = flashes
    ~~~~~~~^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/sessions.py", line 97, in _fail
    raise RuntimeError(
RuntimeError: The session is unavailable because no secret key was set.  Set the secret_key on the application to something unique and secret.
2025-10-25 17:37:56,418 - apscheduler.executors.default - INFO - Running job "auto_close_sessions (trigger: interval[0:01:00], next run at: 2025-10-25 17:38:56 EAT)" (scheduled at 2025-10-25 17:37:56.417865+03:00)
2025-10-25 17:37:59,813 - apscheduler.scheduler - INFO - Scheduler has been shut down
2025-10-25 19:07:32,829 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-10-25 19:07:32,834 - apscheduler.scheduler - INFO - Added job "keep_databases_alive" to job store "default"
2025-10-25 19:07:32,835 - apscheduler.scheduler - INFO - Scheduler started
2025-10-25 19:07:32,841 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-10-25 19:07:32,848 - apscheduler.scheduler - INFO - Added job "auto_close_sessions" to job store "default"
2025-10-25 19:07:32,849 - apscheduler.scheduler - INFO - Scheduler started
2025-10-25 19:07:32,867 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-10-25 19:07:32,868 - apscheduler.scheduler - INFO - Added job "delete_old_announcements" to job store "default"
2025-10-25 19:07:32,873 - apscheduler.scheduler - INFO - Scheduler started
2025-10-25 19:07:32,946 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-10-25 19:07:32,948 - apscheduler.scheduler - INFO - Added job "ping_urls" to job store "default"
2025-10-25 19:07:32,949 - apscheduler.scheduler - INFO - Scheduler started
2025-10-25 19:08:32,869 - apscheduler.executors.default - INFO - Running job "auto_close_sessions (trigger: interval[0:01:00], next run at: 2025-10-25 19:08:32 EAT)" (scheduled at 2025-10-25 19:08:32.841536+03:00)
2025-10-25 19:08:40,172 - apscheduler.executors.default - INFO - Job "auto_close_sessions (trigger: interval[0:01:00], next run at: 2025-10-25 19:09:32 EAT)" executed successfully
2025-10-25 19:09:32,844 - apscheduler.executors.default - INFO - Running job "auto_close_sessions (trigger: interval[0:01:00], next run at: 2025-10-25 19:10:32 EAT)" (scheduled at 2025-10-25 19:09:32.841536+03:00)
2025-10-25 19:09:39,490 - apscheduler.executors.default - INFO - Job "auto_close_sessions (trigger: interval[0:01:00], next run at: 2025-10-25 19:10:32 EAT)" executed successfully
2025-10-25 19:10:32,830 - apscheduler.executors.default - INFO - Running job "keep_databases_alive (trigger: interval[0:03:00], next run at: 2025-10-25 19:10:32 EAT)" (scheduled at 2025-10-25 19:10:32.828906+03:00)
2025-10-25 19:10:32,858 - apscheduler.executors.default - INFO - Running job "auto_close_sessions (trigger: interval[0:01:00], next run at: 2025-10-25 19:11:32 EAT)" (scheduled at 2025-10-25 19:10:32.841536+03:00)
2025-10-25 19:10:32,950 - apscheduler.executors.default - INFO - Running job "ping_urls (trigger: interval[0:03:00], next run at: 2025-10-25 19:10:32 EAT)" (scheduled at 2025-10-25 19:10:32.946183+03:00)
2025-10-25 19:10:35,862 - apscheduler.executors.default - INFO - Job "ping_urls (trigger: interval[0:03:00], next run at: 2025-10-25 19:13:32 EAT)" executed successfully
2025-10-25 19:10:40,318 - apscheduler.executors.default - INFO - Job "auto_close_sessions (trigger: interval[0:01:00], next run at: 2025-10-25 19:11:32 EAT)" executed successfully
2025-10-25 19:10:44,261 - apscheduler.executors.default - INFO - Job "keep_databases_alive (trigger: interval[0:03:00], next run at: 2025-10-25 19:13:32 EAT)" executed successfully
2025-10-25 19:11:14,279 - app - ERROR - Exception on /messages [GET]
Traceback (most recent call last):
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/app.py", line 2190, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/app.py", line 1486, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask_cors/extension.py", line 176, in wrapped_function
    return cors_after_request(app.make_response(f(*args, **kwargs)))
                                                ^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/app.py", line 1484, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/app.py", line 1469, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask_login/utils.py", line 285, in decorated_view
    return current_app.login_manager.unauthorized()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask_login/login_manager.py", line 187, in unauthorized
    flash(self.login_message, category=self.login_message_category)
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/helpers.py", line 328, in flash
    session["_flashes"] = flashes
    ~~~~~~~^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/sessions.py", line 97, in _fail
    raise RuntimeError(
RuntimeError: The session is unavailable because no secret key was set.  Set the secret_key on the application to something unique and secret.
2025-10-25 19:11:14,374 - app - ERROR - Internal Server Error: 500 Internal Server Error: The server encountered an internal error and was unable to complete your request. Either the server is overloaded or there is an error in the application.
Traceback (most recent call last):
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/app.py", line 2190, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/app.py", line 1486, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask_cors/extension.py", line 176, in wrapped_function
    return cors_after_request(app.make_response(f(*args, **kwargs)))
                                                ^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/app.py", line 1484, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/app.py", line 1469, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask_login/utils.py", line 285, in decorated_view
    return current_app.login_manager.unauthorized()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask_login/login_manager.py", line 187, in unauthorized
    flash(self.login_message, category=self.login_message_category)
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/helpers.py", line 328, in flash
    session["_flashes"] = flashes
    ~~~~~~~^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/sessions.py", line 97, in _fail
    raise RuntimeError(
RuntimeError: The session is unavailable because no secret key was set.  Set the secret_key on the application to something unique and secret.
2025-10-25 19:11:32,844 - apscheduler.executors.default - INFO - Running job "auto_close_sessions (trigger: interval[0:01:00], next run at: 2025-10-25 19:12:32 EAT)" (scheduled at 2025-10-25 19:11:32.841536+03:00)
2025-10-25 19:11:38,089 - apscheduler.scheduler - INFO - Scheduler has been shut down
2025-10-25 20:45:25,340 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-10-25 20:45:25,346 - apscheduler.scheduler - INFO - Added job "keep_databases_alive" to job store "default"
2025-10-25 20:45:25,346 - apscheduler.scheduler - INFO - Scheduler started
2025-10-25 20:45:25,352 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-10-25 20:45:25,356 - apscheduler.scheduler - INFO - Added job "auto_close_sessions" to job store "default"
2025-10-25 20:45:25,359 - apscheduler.scheduler - INFO - Scheduler started
2025-10-25 20:45:25,429 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-10-25 20:45:25,431 - apscheduler.scheduler - INFO - Added job "delete_old_announcements" to job store "default"
2025-10-25 20:45:25,441 - apscheduler.scheduler - INFO - Scheduler started
2025-10-25 20:45:25,520 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-10-25 20:45:25,522 - apscheduler.scheduler - INFO - Added job "ping_urls" to job store "default"
2025-10-25 20:45:25,523 - apscheduler.scheduler - INFO - Scheduler started
2025-10-25 20:45:32,251 - app - ERROR - Exception on /admin [GET]
Traceback (most recent call last):
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/app.py", line 2190, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/app.py", line 1486, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask_cors/extension.py", line 176, in wrapped_function
    return cors_after_request(app.make_response(f(*args, **kwargs)))
                                                ^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/app.py", line 1484, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/app.py", line 1469, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask_login/utils.py", line 285, in decorated_view
    return current_app.login_manager.unauthorized()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask_login/login_manager.py", line 187, in unauthorized
    flash(self.login_message, category=self.login_message_category)
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/helpers.py", line 328, in flash
    session["_flashes"] = flashes
    ~~~~~~~^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/sessions.py", line 97, in _fail
    raise RuntimeError(
RuntimeError: The session is unavailable because no secret key was set.  Set the secret_key on the application to something unique and secret.
2025-10-25 20:45:33,741 - app - ERROR - Internal Server Error: 500 Internal Server Error: The server encountered an internal error and was unable to complete your request. Either the server is overloaded or there is an error in the application.
Traceback (most recent call last):
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/app.py", line 2190, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/app.py", line 1486, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask_cors/extension.py", line 176, in wrapped_function
    return cors_after_request(app.make_response(f(*args, **kwargs)))
                                                ^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/app.py", line 1484, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/app.py", line 1469, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask_login/utils.py", line 285, in decorated_view
    return current_app.login_manager.unauthorized()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask_login/login_manager.py", line 187, in unauthorized
    flash(self.login_message, category=self.login_message_category)
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/helpers.py", line 328, in flash
    session["_flashes"] = flashes
    ~~~~~~~^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/sessions.py", line 97, in _fail
    raise RuntimeError(
RuntimeError: The session is unavailable because no secret key was set.  Set the secret_key on the application to something unique and secret.
2025-10-25 20:45:36,611 - app - ERROR - Exception on /admin [GET]
Traceback (most recent call last):
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/app.py", line 2190, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/app.py", line 1486, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask_cors/extension.py", line 176, in wrapped_function
    return cors_after_request(app.make_response(f(*args, **kwargs)))
                                                ^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/app.py", line 1484, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/app.py", line 1469, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask_login/utils.py", line 285, in decorated_view
    return current_app.login_manager.unauthorized()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask_login/login_manager.py", line 187, in unauthorized
    flash(self.login_message, category=self.login_message_category)
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/helpers.py", line 328, in flash
    session["_flashes"] = flashes
    ~~~~~~~^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/sessions.py", line 97, in _fail
    raise RuntimeError(
RuntimeError: The session is unavailable because no secret key was set.  Set the secret_key on the application to something unique and secret.
2025-10-25 20:45:36,783 - app - ERROR - Internal Server Error: 500 Internal Server Error: The server encountered an internal error and was unable to complete your request. Either the server is overloaded or there is an error in the application.
Traceback (most recent call last):
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/app.py", line 2190, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/app.py", line 1486, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask_cors/extension.py", line 176, in wrapped_function
    return cors_after_request(app.make_response(f(*args, **kwargs)))
                                                ^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/app.py", line 1484, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/app.py", line 1469, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask_login/utils.py", line 285, in decorated_view
    return current_app.login_manager.unauthorized()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask_login/login_manager.py", line 187, in unauthorized
    flash(self.login_message, category=self.login_message_category)
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/helpers.py", line 328, in flash
    session["_flashes"] = flashes
    ~~~~~~~^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/sessions.py", line 97, in _fail
    raise RuntimeError(
RuntimeError: The session is unavailable because no secret key was set.  Set the secret_key on the application to something unique and secret.
2025-10-25 20:45:37,850 - app - ERROR - Exception on /admin [GET]
Traceback (most recent call last):
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/app.py", line 2190, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/app.py", line 1486, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask_cors/extension.py", line 176, in wrapped_function
    return cors_after_request(app.make_response(f(*args, **kwargs)))
                                                ^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/app.py", line 1484, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/app.py", line 1469, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask_login/utils.py", line 285, in decorated_view
    return current_app.login_manager.unauthorized()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask_login/login_manager.py", line 187, in unauthorized
    flash(self.login_message, category=self.login_message_category)
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/helpers.py", line 328, in flash
    session["_flashes"] = flashes
    ~~~~~~~^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/sessions.py", line 97, in _fail
    raise RuntimeError(
RuntimeError: The session is unavailable because no secret key was set.  Set the secret_key on the application to something unique and secret.
2025-10-25 20:45:38,012 - app - ERROR - Internal Server Error: 500 Internal Server Error: The server encountered an internal error and was unable to complete your request. Either the server is overloaded or there is an error in the application.
Traceback (most recent call last):
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/app.py", line 2190, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/app.py", line 1486, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask_cors/extension.py", line 176, in wrapped_function
    return cors_after_request(app.make_response(f(*args, **kwargs)))
                                                ^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/app.py", line 1484, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/app.py", line 1469, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask_login/utils.py", line 285, in decorated_view
    return current_app.login_manager.unauthorized()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask_login/login_manager.py", line 187, in unauthorized
    flash(self.login_message, category=self.login_message_category)
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/helpers.py", line 328, in flash
    session["_flashes"] = flashes
    ~~~~~~~^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/sessions.py", line 97, in _fail
    raise RuntimeError(
RuntimeError: The session is unavailable because no secret key was set.  Set the secret_key on the application to something unique and secret.
2025-10-25 20:45:48,074 - apscheduler.scheduler - INFO - Scheduler has been shut down
2025-10-25 22:19:43,137 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-10-25 22:19:43,150 - apscheduler.scheduler - INFO - Added job "keep_databases_alive" to job store "default"
2025-10-25 22:19:43,151 - apscheduler.scheduler - INFO - Scheduler started
2025-10-25 22:19:43,156 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-10-25 22:19:43,159 - apscheduler.scheduler - INFO - Added job "auto_close_sessions" to job store "default"
2025-10-25 22:19:43,161 - apscheduler.scheduler - INFO - Scheduler started
2025-10-25 22:19:43,174 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-10-25 22:19:43,178 - apscheduler.scheduler - INFO - Added job "delete_old_announcements" to job store "default"
2025-10-25 22:19:43,179 - apscheduler.scheduler - INFO - Scheduler started
2025-10-25 22:19:43,219 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-10-25 22:19:43,220 - apscheduler.scheduler - INFO - Added job "ping_urls" to job store "default"
2025-10-25 22:19:43,222 - apscheduler.scheduler - INFO - Scheduler started
2025-10-25 22:20:43,157 - apscheduler.executors.default - INFO - Running job "auto_close_sessions (trigger: interval[0:01:00], next run at: 2025-10-25 22:20:43 EAT)" (scheduled at 2025-10-25 22:20:43.155817+03:00)
2025-10-25 22:20:49,399 - apscheduler.executors.default - INFO - Job "auto_close_sessions (trigger: interval[0:01:00], next run at: 2025-10-25 22:21:43 EAT)" executed successfully
2025-10-25 22:21:15,476 - apscheduler.scheduler - INFO - Scheduler has been shut down
2025-10-25 22:21:56,990 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-10-25 22:21:56,992 - apscheduler.scheduler - INFO - Added job "keep_databases_alive" to job store "default"
2025-10-25 22:21:56,993 - apscheduler.scheduler - INFO - Scheduler started
2025-10-25 22:21:56,996 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-10-25 22:21:56,998 - apscheduler.scheduler - INFO - Added job "auto_close_sessions" to job store "default"
2025-10-25 22:21:56,999 - apscheduler.scheduler - INFO - Scheduler started
2025-10-25 22:21:57,017 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-10-25 22:21:57,024 - apscheduler.scheduler - INFO - Added job "delete_old_announcements" to job store "default"
2025-10-25 22:21:57,025 - apscheduler.scheduler - INFO - Scheduler started
2025-10-25 22:21:57,071 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-10-25 22:21:57,072 - apscheduler.scheduler - INFO - Added job "ping_urls" to job store "default"
2025-10-25 22:21:57,073 - apscheduler.scheduler - INFO - Scheduler started
2025-10-25 22:22:56,998 - apscheduler.executors.default - INFO - Running job "auto_close_sessions (trigger: interval[0:01:00], next run at: 2025-10-25 22:22:56 EAT)" (scheduled at 2025-10-25 22:22:56.996216+03:00)
2025-10-25 22:23:04,229 - apscheduler.executors.default - INFO - Job "auto_close_sessions (trigger: interval[0:01:00], next run at: 2025-10-25 22:23:56 EAT)" executed successfully
2025-10-25 22:23:56,997 - apscheduler.executors.default - INFO - Running job "auto_close_sessions (trigger: interval[0:01:00], next run at: 2025-10-25 22:24:56 EAT)" (scheduled at 2025-10-25 22:23:56.996216+03:00)
2025-10-25 22:23:58,213 - app - ERROR - Exception on /main-page [GET]
Traceback (most recent call last):
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/app.py", line 2190, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/app.py", line 1486, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask_cors/extension.py", line 176, in wrapped_function
    return cors_after_request(app.make_response(f(*args, **kwargs)))
                                                ^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/app.py", line 1484, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/app.py", line 1469, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask_login/utils.py", line 285, in decorated_view
    return current_app.login_manager.unauthorized()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask_login/login_manager.py", line 187, in unauthorized
    flash(self.login_message, category=self.login_message_category)
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/helpers.py", line 328, in flash
    session["_flashes"] = flashes
    ~~~~~~~^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/sessions.py", line 97, in _fail
    raise RuntimeError(
RuntimeError: The session is unavailable because no secret key was set.  Set the secret_key on the application to something unique and secret.
2025-10-25 22:23:58,532 - app - ERROR - Internal Server Error: 500 Internal Server Error: The server encountered an internal error and was unable to complete your request. Either the server is overloaded or there is an error in the application.
Traceback (most recent call last):
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/app.py", line 2190, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/app.py", line 1486, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask_cors/extension.py", line 176, in wrapped_function
    return cors_after_request(app.make_response(f(*args, **kwargs)))
                                                ^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/app.py", line 1484, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/app.py", line 1469, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask_login/utils.py", line 285, in decorated_view
    return current_app.login_manager.unauthorized()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask_login/login_manager.py", line 187, in unauthorized
    flash(self.login_message, category=self.login_message_category)
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/helpers.py", line 328, in flash
    session["_flashes"] = flashes
    ~~~~~~~^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/sessions.py", line 97, in _fail
    raise RuntimeError(
RuntimeError: The session is unavailable because no secret key was set.  Set the secret_key on the application to something unique and secret.
2025-10-25 22:23:59,081 - app - ERROR - Exception on /api/user [GET]
Traceback (most recent call last):
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/app.py", line 2190, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/app.py", line 1486, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask_cors/extension.py", line 176, in wrapped_function
    return cors_after_request(app.make_response(f(*args, **kwargs)))
                                                ^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/app.py", line 1484, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/app.py", line 1469, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask_login/utils.py", line 285, in decorated_view
    return current_app.login_manager.unauthorized()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask_login/login_manager.py", line 187, in unauthorized
    flash(self.login_message, category=self.login_message_category)
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/helpers.py", line 328, in flash
    session["_flashes"] = flashes
    ~~~~~~~^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/sessions.py", line 97, in _fail
    raise RuntimeError(
RuntimeError: The session is unavailable because no secret key was set.  Set the secret_key on the application to something unique and secret.
2025-10-25 22:23:59,198 - app - ERROR - Internal Server Error: 500 Internal Server Error: The server encountered an internal error and was unable to complete your request. Either the server is overloaded or there is an error in the application.
Traceback (most recent call last):
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/app.py", line 2190, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/app.py", line 1486, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask_cors/extension.py", line 176, in wrapped_function
    return cors_after_request(app.make_response(f(*args, **kwargs)))
                                                ^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/app.py", line 1484, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/app.py", line 1469, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask_login/utils.py", line 285, in decorated_view
    return current_app.login_manager.unauthorized()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask_login/login_manager.py", line 187, in unauthorized
    flash(self.login_message, category=self.login_message_category)
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/helpers.py", line 328, in flash
    session["_flashes"] = flashes
    ~~~~~~~^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/sessions.py", line 97, in _fail
    raise RuntimeError(
RuntimeError: The session is unavailable because no secret key was set.  Set the secret_key on the application to something unique and secret.
2025-10-25 22:24:04,245 - apscheduler.executors.default - INFO - Job "auto_close_sessions (trigger: interval[0:01:00], next run at: 2025-10-25 22:24:56 EAT)" executed successfully
2025-10-25 22:24:56,991 - apscheduler.executors.default - INFO - Running job "keep_databases_alive (trigger: interval[0:03:00], next run at: 2025-10-25 22:24:56 EAT)" (scheduled at 2025-10-25 22:24:56.990281+03:00)
2025-10-25 22:25:02,597 - apscheduler.executors.default - WARNING - Run time of job "auto_close_sessions (trigger: interval[0:01:00], next run at: 2025-10-25 22:25:56 EAT)" was missed by 0:00:05.601641
2025-10-25 22:25:02,600 - apscheduler.executors.default - WARNING - Run time of job "ping_urls (trigger: interval[0:03:00], next run at: 2025-10-25 22:24:57 EAT)" was missed by 0:00:05.528339
2025-10-25 22:25:05,743 - app - ERROR - Exception on /logout [GET]
Traceback (most recent call last):
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/app.py", line 2190, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/app.py", line 1486, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask_cors/extension.py", line 176, in wrapped_function
    return cors_after_request(app.make_response(f(*args, **kwargs)))
                                                ^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/app.py", line 1484, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/app.py", line 1469, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask_login/utils.py", line 285, in decorated_view
    return current_app.login_manager.unauthorized()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask_login/login_manager.py", line 187, in unauthorized
    flash(self.login_message, category=self.login_message_category)
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/helpers.py", line 328, in flash
    session["_flashes"] = flashes
    ~~~~~~~^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/sessions.py", line 97, in _fail
    raise RuntimeError(
RuntimeError: The session is unavailable because no secret key was set.  Set the secret_key on the application to something unique and secret.
2025-10-25 22:25:06,050 - app - ERROR - Internal Server Error: 500 Internal Server Error: The server encountered an internal error and was unable to complete your request. Either the server is overloaded or there is an error in the application.
Traceback (most recent call last):
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/app.py", line 2190, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/app.py", line 1486, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask_cors/extension.py", line 176, in wrapped_function
    return cors_after_request(app.make_response(f(*args, **kwargs)))
                                                ^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/app.py", line 1484, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/app.py", line 1469, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask_login/utils.py", line 285, in decorated_view
    return current_app.login_manager.unauthorized()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask_login/login_manager.py", line 187, in unauthorized
    flash(self.login_message, category=self.login_message_category)
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/helpers.py", line 328, in flash
    session["_flashes"] = flashes
    ~~~~~~~^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/sessions.py", line 97, in _fail
    raise RuntimeError(
RuntimeError: The session is unavailable because no secret key was set.  Set the secret_key on the application to something unique and secret.
2025-10-25 22:25:14,342 - apscheduler.executors.default - INFO - Job "keep_databases_alive (trigger: interval[0:03:00], next run at: 2025-10-25 22:27:56 EAT)" executed successfully
2025-10-25 22:25:28,976 - app - ERROR - Exception on /login [POST]
Traceback (most recent call last):
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/app.py", line 2190, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/app.py", line 1486, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask_cors/extension.py", line 176, in wrapped_function
    return cors_after_request(app.make_response(f(*args, **kwargs)))
                                                ^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/app.py", line 1484, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/app.py", line 1469, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/c/Users/HP/LyxNexus/app.py", line 788, in login
    login_user(user)
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask_login/utils.py", line 184, in login_user
    session["_user_id"] = user_id
    ~~~~~~~^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/sessions.py", line 97, in _fail
    raise RuntimeError(
RuntimeError: The session is unavailable because no secret key was set.  Set the secret_key on the application to something unique and secret.
2025-10-25 22:25:29,016 - app - ERROR - Internal Server Error: 500 Internal Server Error: The server encountered an internal error and was unable to complete your request. Either the server is overloaded or there is an error in the application.
Traceback (most recent call last):
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/app.py", line 2190, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/app.py", line 1486, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask_cors/extension.py", line 176, in wrapped_function
    return cors_after_request(app.make_response(f(*args, **kwargs)))
                                                ^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/app.py", line 1484, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/app.py", line 1469, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/c/Users/HP/LyxNexus/app.py", line 788, in login
    login_user(user)
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask_login/utils.py", line 184, in login_user
    session["_user_id"] = user_id
    ~~~~~~~^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/sessions.py", line 97, in _fail
    raise RuntimeError(
RuntimeError: The session is unavailable because no secret key was set.  Set the secret_key on the application to something unique and secret.
2025-10-25 22:25:56,997 - apscheduler.executors.default - INFO - Running job "auto_close_sessions (trigger: interval[0:01:00], next run at: 2025-10-25 22:26:56 EAT)" (scheduled at 2025-10-25 22:25:56.996216+03:00)
2025-10-25 22:26:01,921 - apscheduler.executors.default - INFO - Job "auto_close_sessions (trigger: interval[0:01:00], next run at: 2025-10-25 22:26:56 EAT)" executed successfully
2025-10-25 22:26:57,042 - apscheduler.executors.default - INFO - Running job "auto_close_sessions (trigger: interval[0:01:00], next run at: 2025-10-25 22:27:56 EAT)" (scheduled at 2025-10-25 22:26:56.996216+03:00)
2025-10-25 22:27:03,308 - apscheduler.executors.default - INFO - Job "auto_close_sessions (trigger: interval[0:01:00], next run at: 2025-10-25 22:27:56 EAT)" executed successfully
2025-10-25 22:27:56,991 - apscheduler.executors.default - INFO - Running job "keep_databases_alive (trigger: interval[0:03:00], next run at: 2025-10-25 22:30:56 EAT)" (scheduled at 2025-10-25 22:27:56.990281+03:00)
2025-10-25 22:27:57,069 - apscheduler.executors.default - INFO - Running job "auto_close_sessions (trigger: interval[0:01:00], next run at: 2025-10-25 22:28:56 EAT)" (scheduled at 2025-10-25 22:27:56.996216+03:00)
2025-10-25 22:27:57,143 - apscheduler.executors.default - INFO - Running job "ping_urls (trigger: interval[0:03:00], next run at: 2025-10-25 22:30:57 EAT)" (scheduled at 2025-10-25 22:27:57.071727+03:00)
2025-10-25 22:27:58,909 - apscheduler.executors.default - INFO - Job "ping_urls (trigger: interval[0:03:00], next run at: 2025-10-25 22:30:57 EAT)" executed successfully
2025-10-25 22:28:01,641 - apscheduler.executors.default - INFO - Job "keep_databases_alive (trigger: interval[0:03:00], next run at: 2025-10-25 22:30:56 EAT)" executed successfully
2025-10-25 22:28:03,153 - apscheduler.executors.default - INFO - Job "auto_close_sessions (trigger: interval[0:01:00], next run at: 2025-10-25 22:28:56 EAT)" executed successfully
2025-10-25 22:28:35,901 - apscheduler.scheduler - INFO - Scheduler has been shut down
2025-10-25 22:28:58,802 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-10-25 22:28:58,807 - apscheduler.scheduler - INFO - Added job "keep_databases_alive" to job store "default"
2025-10-25 22:28:58,809 - apscheduler.scheduler - INFO - Scheduler started
2025-10-25 22:28:58,817 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-10-25 22:28:58,819 - apscheduler.scheduler - INFO - Added job "auto_close_sessions" to job store "default"
2025-10-25 22:28:58,820 - apscheduler.scheduler - INFO - Scheduler started
2025-10-25 22:28:58,853 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-10-25 22:28:58,866 - apscheduler.scheduler - INFO - Added job "delete_old_announcements" to job store "default"
2025-10-25 22:28:58,872 - apscheduler.scheduler - INFO - Scheduler started
2025-10-25 22:28:58,950 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-10-25 22:28:58,951 - apscheduler.scheduler - INFO - Added job "ping_urls" to job store "default"
2025-10-25 22:28:58,952 - apscheduler.scheduler - INFO - Scheduler started
2025-10-25 22:28:59,246 - app - ERROR - Exception on /api/user [GET]
Traceback (most recent call last):
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/app.py", line 2190, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/app.py", line 1486, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask_cors/extension.py", line 176, in wrapped_function
    return cors_after_request(app.make_response(f(*args, **kwargs)))
                                                ^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/app.py", line 1484, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/app.py", line 1469, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask_login/utils.py", line 285, in decorated_view
    return current_app.login_manager.unauthorized()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask_login/login_manager.py", line 187, in unauthorized
    flash(self.login_message, category=self.login_message_category)
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/helpers.py", line 328, in flash
    session["_flashes"] = flashes
    ~~~~~~~^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/sessions.py", line 97, in _fail
    raise RuntimeError(
RuntimeError: The session is unavailable because no secret key was set.  Set the secret_key on the application to something unique and secret.
2025-10-25 22:28:59,319 - app - ERROR - Internal Server Error: 500 Internal Server Error: The server encountered an internal error and was unable to complete your request. Either the server is overloaded or there is an error in the application.
Traceback (most recent call last):
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/app.py", line 2190, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/app.py", line 1486, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask_cors/extension.py", line 176, in wrapped_function
    return cors_after_request(app.make_response(f(*args, **kwargs)))
                                                ^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/app.py", line 1484, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/app.py", line 1469, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask_login/utils.py", line 285, in decorated_view
    return current_app.login_manager.unauthorized()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask_login/login_manager.py", line 187, in unauthorized
    flash(self.login_message, category=self.login_message_category)
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/helpers.py", line 328, in flash
    session["_flashes"] = flashes
    ~~~~~~~^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/sessions.py", line 97, in _fail
    raise RuntimeError(
RuntimeError: The session is unavailable because no secret key was set.  Set the secret_key on the application to something unique and secret.
2025-10-25 22:29:06,145 - app - ERROR - Exception on /logout [GET]
Traceback (most recent call last):
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/app.py", line 2190, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/app.py", line 1486, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask_cors/extension.py", line 176, in wrapped_function
    return cors_after_request(app.make_response(f(*args, **kwargs)))
                                                ^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/app.py", line 1484, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/app.py", line 1469, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask_login/utils.py", line 285, in decorated_view
    return current_app.login_manager.unauthorized()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask_login/login_manager.py", line 187, in unauthorized
    flash(self.login_message, category=self.login_message_category)
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/helpers.py", line 328, in flash
    session["_flashes"] = flashes
    ~~~~~~~^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/sessions.py", line 97, in _fail
    raise RuntimeError(
RuntimeError: The session is unavailable because no secret key was set.  Set the secret_key on the application to something unique and secret.
2025-10-25 22:29:06,247 - app - ERROR - Internal Server Error: 500 Internal Server Error: The server encountered an internal error and was unable to complete your request. Either the server is overloaded or there is an error in the application.
Traceback (most recent call last):
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/app.py", line 2190, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/app.py", line 1486, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask_cors/extension.py", line 176, in wrapped_function
    return cors_after_request(app.make_response(f(*args, **kwargs)))
                                                ^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/app.py", line 1484, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/app.py", line 1469, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask_login/utils.py", line 285, in decorated_view
    return current_app.login_manager.unauthorized()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask_login/login_manager.py", line 187, in unauthorized
    flash(self.login_message, category=self.login_message_category)
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/helpers.py", line 328, in flash
    session["_flashes"] = flashes
    ~~~~~~~^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/sessions.py", line 97, in _fail
    raise RuntimeError(
RuntimeError: The session is unavailable because no secret key was set.  Set the secret_key on the application to something unique and secret.
2025-10-25 22:29:22,940 - app - ERROR - Exception on /login [POST]
Traceback (most recent call last):
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/app.py", line 2190, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/app.py", line 1486, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask_cors/extension.py", line 176, in wrapped_function
    return cors_after_request(app.make_response(f(*args, **kwargs)))
                                                ^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/app.py", line 1484, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/app.py", line 1469, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/c/Users/HP/LyxNexus/app.py", line 788, in login
    login_user(user)
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask_login/utils.py", line 184, in login_user
    session["_user_id"] = user_id
    ~~~~~~~^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/sessions.py", line 97, in _fail
    raise RuntimeError(
RuntimeError: The session is unavailable because no secret key was set.  Set the secret_key on the application to something unique and secret.
2025-10-25 22:29:22,964 - app - ERROR - Internal Server Error: 500 Internal Server Error: The server encountered an internal error and was unable to complete your request. Either the server is overloaded or there is an error in the application.
Traceback (most recent call last):
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/app.py", line 2190, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/app.py", line 1486, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask_cors/extension.py", line 176, in wrapped_function
    return cors_after_request(app.make_response(f(*args, **kwargs)))
                                                ^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/app.py", line 1484, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/app.py", line 1469, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/c/Users/HP/LyxNexus/app.py", line 788, in login
    login_user(user)
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask_login/utils.py", line 184, in login_user
    session["_user_id"] = user_id
    ~~~~~~~^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/sessions.py", line 97, in _fail
    raise RuntimeError(
RuntimeError: The session is unavailable because no secret key was set.  Set the secret_key on the application to something unique and secret.
2025-10-25 22:29:31,423 - apscheduler.scheduler - INFO - Scheduler has been shut down
2025-10-25 22:35:57,214 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-10-25 22:35:57,218 - apscheduler.scheduler - INFO - Added job "keep_databases_alive" to job store "default"
2025-10-25 22:35:57,219 - apscheduler.scheduler - INFO - Scheduler started
2025-10-25 22:35:57,222 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-10-25 22:35:57,223 - apscheduler.scheduler - INFO - Added job "auto_close_sessions" to job store "default"
2025-10-25 22:35:57,225 - apscheduler.scheduler - INFO - Scheduler started
2025-10-25 22:35:57,245 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-10-25 22:35:57,248 - apscheduler.scheduler - INFO - Added job "delete_old_announcements" to job store "default"
2025-10-25 22:35:57,257 - apscheduler.scheduler - INFO - Scheduler started
2025-10-25 22:35:57,293 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-10-25 22:35:57,294 - apscheduler.scheduler - INFO - Added job "ping_urls" to job store "default"
2025-10-25 22:35:57,294 - apscheduler.scheduler - INFO - Scheduler started
2025-10-25 22:36:57,224 - apscheduler.executors.default - INFO - Running job "auto_close_sessions (trigger: interval[0:01:00], next run at: 2025-10-25 22:36:57 EAT)" (scheduled at 2025-10-25 22:36:57.222307+03:00)
2025-10-25 22:37:03,651 - apscheduler.executors.default - INFO - Job "auto_close_sessions (trigger: interval[0:01:00], next run at: 2025-10-25 22:37:57 EAT)" executed successfully
2025-10-25 22:37:57,227 - apscheduler.executors.default - INFO - Running job "auto_close_sessions (trigger: interval[0:01:00], next run at: 2025-10-25 22:38:57 EAT)" (scheduled at 2025-10-25 22:37:57.222307+03:00)
2025-10-25 22:38:04,404 - apscheduler.executors.default - INFO - Job "auto_close_sessions (trigger: interval[0:01:00], next run at: 2025-10-25 22:38:57 EAT)" executed successfully
2025-10-25 22:38:57,268 - apscheduler.executors.default - INFO - Running job "keep_databases_alive (trigger: interval[0:03:00], next run at: 2025-10-25 22:38:57 EAT)" (scheduled at 2025-10-25 22:38:57.213983+03:00)
2025-10-25 22:38:57,380 - apscheduler.executors.default - INFO - Running job "auto_close_sessions (trigger: interval[0:01:00], next run at: 2025-10-25 22:39:57 EAT)" (scheduled at 2025-10-25 22:38:57.222307+03:00)
2025-10-25 22:38:57,497 - apscheduler.executors.default - INFO - Running job "ping_urls (trigger: interval[0:03:00], next run at: 2025-10-25 22:38:57 EAT)" (scheduled at 2025-10-25 22:38:57.293280+03:00)
2025-10-25 22:39:00,820 - apscheduler.executors.default - INFO - Job "ping_urls (trigger: interval[0:03:00], next run at: 2025-10-25 22:41:57 EAT)" executed successfully
2025-10-25 22:39:03,817 - apscheduler.executors.default - INFO - Job "auto_close_sessions (trigger: interval[0:01:00], next run at: 2025-10-25 22:39:57 EAT)" executed successfully
2025-10-25 22:39:07,229 - apscheduler.executors.default - INFO - Job "keep_databases_alive (trigger: interval[0:03:00], next run at: 2025-10-25 22:41:57 EAT)" executed successfully
2025-10-25 22:39:57,224 - apscheduler.executors.default - INFO - Running job "auto_close_sessions (trigger: interval[0:01:00], next run at: 2025-10-25 22:40:57 EAT)" (scheduled at 2025-10-25 22:39:57.222307+03:00)
2025-10-25 22:40:03,800 - apscheduler.executors.default - INFO - Job "auto_close_sessions (trigger: interval[0:01:00], next run at: 2025-10-25 22:40:57 EAT)" executed successfully
2025-10-25 22:40:54,750 - apscheduler.scheduler - INFO - Scheduler has been shut down
2025-10-25 22:44:31,109 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-10-25 22:44:31,112 - apscheduler.scheduler - INFO - Added job "keep_databases_alive" to job store "default"
2025-10-25 22:44:31,113 - apscheduler.scheduler - INFO - Scheduler started
2025-10-25 22:44:31,115 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-10-25 22:44:31,116 - apscheduler.scheduler - INFO - Added job "auto_close_sessions" to job store "default"
2025-10-25 22:44:31,117 - apscheduler.scheduler - INFO - Scheduler started
2025-10-25 22:44:31,135 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-10-25 22:44:31,136 - apscheduler.scheduler - INFO - Added job "delete_old_announcements" to job store "default"
2025-10-25 22:44:31,142 - apscheduler.scheduler - INFO - Scheduler started
2025-10-25 22:44:31,181 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-10-25 22:44:31,181 - apscheduler.scheduler - INFO - Added job "ping_urls" to job store "default"
2025-10-25 22:44:31,182 - apscheduler.scheduler - INFO - Scheduler started
2025-10-25 22:45:31,121 - apscheduler.executors.default - INFO - Running job "auto_close_sessions (trigger: interval[0:01:00], next run at: 2025-10-25 22:45:31 EAT)" (scheduled at 2025-10-25 22:45:31.115627+03:00)
2025-10-25 22:45:37,389 - apscheduler.executors.default - INFO - Job "auto_close_sessions (trigger: interval[0:01:00], next run at: 2025-10-25 22:46:31 EAT)" executed successfully
2025-10-25 22:46:31,117 - apscheduler.executors.default - INFO - Running job "auto_close_sessions (trigger: interval[0:01:00], next run at: 2025-10-25 22:47:31 EAT)" (scheduled at 2025-10-25 22:46:31.115627+03:00)
2025-10-25 22:46:37,270 - apscheduler.executors.default - INFO - Job "auto_close_sessions (trigger: interval[0:01:00], next run at: 2025-10-25 22:47:31 EAT)" executed successfully
2025-10-25 22:47:31,111 - apscheduler.executors.default - INFO - Running job "keep_databases_alive (trigger: interval[0:03:00], next run at: 2025-10-25 22:47:31 EAT)" (scheduled at 2025-10-25 22:47:31.109384+03:00)
2025-10-25 22:47:31,167 - apscheduler.executors.default - INFO - Running job "auto_close_sessions (trigger: interval[0:01:00], next run at: 2025-10-25 22:48:31 EAT)" (scheduled at 2025-10-25 22:47:31.115627+03:00)
2025-10-25 22:47:31,275 - apscheduler.executors.default - INFO - Running job "ping_urls (trigger: interval[0:03:00], next run at: 2025-10-25 22:47:31 EAT)" (scheduled at 2025-10-25 22:47:31.181012+03:00)
2025-10-25 22:47:34,375 - apscheduler.executors.default - INFO - Job "ping_urls (trigger: interval[0:03:00], next run at: 2025-10-25 22:50:31 EAT)" executed successfully
2025-10-25 22:47:38,950 - apscheduler.executors.default - INFO - Job "auto_close_sessions (trigger: interval[0:01:00], next run at: 2025-10-25 22:48:31 EAT)" executed successfully
2025-10-25 22:47:41,973 - apscheduler.executors.default - INFO - Job "keep_databases_alive (trigger: interval[0:03:00], next run at: 2025-10-25 22:50:31 EAT)" executed successfully
2025-10-25 22:48:31,134 - apscheduler.executors.default - INFO - Running job "auto_close_sessions (trigger: interval[0:01:00], next run at: 2025-10-25 22:49:31 EAT)" (scheduled at 2025-10-25 22:48:31.115627+03:00)
2025-10-25 22:48:37,942 - apscheduler.executors.default - INFO - Job "auto_close_sessions (trigger: interval[0:01:00], next run at: 2025-10-25 22:49:31 EAT)" executed successfully
2025-10-25 22:49:13,615 - apscheduler.scheduler - INFO - Scheduler has been shut down
2025-10-25 22:51:36,318 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-10-25 22:51:36,321 - apscheduler.scheduler - INFO - Added job "keep_databases_alive" to job store "default"
2025-10-25 22:51:36,321 - apscheduler.scheduler - INFO - Scheduler started
2025-10-25 22:51:36,333 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-10-25 22:51:36,334 - apscheduler.scheduler - INFO - Added job "auto_close_sessions" to job store "default"
2025-10-25 22:51:36,335 - apscheduler.scheduler - INFO - Scheduler started
2025-10-25 22:51:36,368 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-10-25 22:51:36,369 - apscheduler.scheduler - INFO - Added job "delete_old_announcements" to job store "default"
2025-10-25 22:51:36,370 - apscheduler.scheduler - INFO - Scheduler started
2025-10-25 22:51:36,467 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-10-25 22:51:36,468 - apscheduler.scheduler - INFO - Added job "ping_urls" to job store "default"
2025-10-25 22:51:36,469 - apscheduler.scheduler - INFO - Scheduler started
2025-10-25 22:52:36,338 - apscheduler.executors.default - INFO - Running job "auto_close_sessions (trigger: interval[0:01:00], next run at: 2025-10-25 22:52:36 EAT)" (scheduled at 2025-10-25 22:52:36.333272+03:00)
2025-10-25 22:52:42,420 - apscheduler.executors.default - INFO - Job "auto_close_sessions (trigger: interval[0:01:00], next run at: 2025-10-25 22:53:36 EAT)" executed successfully
2025-10-25 22:53:36,334 - apscheduler.executors.default - INFO - Running job "auto_close_sessions (trigger: interval[0:01:00], next run at: 2025-10-25 22:54:36 EAT)" (scheduled at 2025-10-25 22:53:36.333272+03:00)
2025-10-25 22:53:42,367 - apscheduler.executors.default - INFO - Job "auto_close_sessions (trigger: interval[0:01:00], next run at: 2025-10-25 22:54:36 EAT)" executed successfully
2025-10-25 22:54:28,211 - apscheduler.scheduler - INFO - Scheduler has been shut down
2025-10-25 23:00:50,620 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-10-25 23:00:50,623 - apscheduler.scheduler - INFO - Added job "keep_databases_alive" to job store "default"
2025-10-25 23:00:50,624 - apscheduler.scheduler - INFO - Scheduler started
2025-10-25 23:00:50,628 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-10-25 23:00:50,629 - apscheduler.scheduler - INFO - Added job "auto_close_sessions" to job store "default"
2025-10-25 23:00:50,630 - apscheduler.scheduler - INFO - Scheduler started
2025-10-25 23:00:50,640 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-10-25 23:00:50,642 - apscheduler.scheduler - INFO - Added job "delete_old_announcements" to job store "default"
2025-10-25 23:00:50,645 - apscheduler.scheduler - INFO - Scheduler started
2025-10-25 23:00:50,685 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-10-25 23:00:50,686 - apscheduler.scheduler - INFO - Added job "ping_urls" to job store "default"
2025-10-25 23:00:50,686 - apscheduler.scheduler - INFO - Scheduler started
2025-10-25 23:00:56,810 - app - ERROR - Exception on /api/analytics/visits [GET]
Traceback (most recent call last):
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/app.py", line 2190, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/app.py", line 1486, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask_cors/extension.py", line 176, in wrapped_function
    return cors_after_request(app.make_response(f(*args, **kwargs)))
                                                ^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/app.py", line 1484, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/app.py", line 1469, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/c/Users/HP/LyxNexus/app.py", line 440, in decorator
    return f(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^
  File "/mnt/c/Users/HP/LyxNexus/app.py", line 4697, in get_visit_analytics
    cutoff_time = nairobi_time() - timedelta(hours=24)
                  ~~~~~~~~~~~~~~~^~~~~~~~~~~~~~~~~~~~~
TypeError: unsupported operand type(s) for -: 'str' and 'datetime.timedelta'
2025-10-25 23:00:56,913 - app - ERROR - Internal Server Error: 500 Internal Server Error: The server encountered an internal error and was unable to complete your request. Either the server is overloaded or there is an error in the application.
Traceback (most recent call last):
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/app.py", line 2190, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/app.py", line 1486, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask_cors/extension.py", line 176, in wrapped_function
    return cors_after_request(app.make_response(f(*args, **kwargs)))
                                                ^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/app.py", line 1484, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/app.py", line 1469, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/c/Users/HP/LyxNexus/app.py", line 440, in decorator
    return f(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^
  File "/mnt/c/Users/HP/LyxNexus/app.py", line 4697, in get_visit_analytics
    cutoff_time = nairobi_time() - timedelta(hours=24)
                  ~~~~~~~~~~~~~~~^~~~~~~~~~~~~~~~~~~~~
TypeError: unsupported operand type(s) for -: 'str' and 'datetime.timedelta'
2025-10-25 23:01:10,251 - app - ERROR - Exception on /api/analytics/visits [GET]
Traceback (most recent call last):
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/app.py", line 2190, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/app.py", line 1486, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask_cors/extension.py", line 176, in wrapped_function
    return cors_after_request(app.make_response(f(*args, **kwargs)))
                                                ^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/app.py", line 1484, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/app.py", line 1469, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/c/Users/HP/LyxNexus/app.py", line 440, in decorator
    return f(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^
  File "/mnt/c/Users/HP/LyxNexus/app.py", line 4697, in get_visit_analytics
    cutoff_time = nairobi_time() - timedelta(hours=24)
                  ~~~~~~~~~~~~~~~^~~~~~~~~~~~~~~~~~~~~
TypeError: unsupported operand type(s) for -: 'str' and 'datetime.timedelta'
2025-10-25 23:01:10,318 - app - ERROR - Internal Server Error: 500 Internal Server Error: The server encountered an internal error and was unable to complete your request. Either the server is overloaded or there is an error in the application.
Traceback (most recent call last):
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/app.py", line 2190, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/app.py", line 1486, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask_cors/extension.py", line 176, in wrapped_function
    return cors_after_request(app.make_response(f(*args, **kwargs)))
                                                ^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/app.py", line 1484, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/app.py", line 1469, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/c/Users/HP/LyxNexus/app.py", line 440, in decorator
    return f(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^
  File "/mnt/c/Users/HP/LyxNexus/app.py", line 4697, in get_visit_analytics
    cutoff_time = nairobi_time() - timedelta(hours=24)
                  ~~~~~~~~~~~~~~~^~~~~~~~~~~~~~~~~~~~~
TypeError: unsupported operand type(s) for -: 'str' and 'datetime.timedelta'
2025-10-25 23:01:11,591 - app - ERROR - Exception on /api/analytics/visits [GET]
Traceback (most recent call last):
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/app.py", line 2190, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/app.py", line 1486, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask_cors/extension.py", line 176, in wrapped_function
    return cors_after_request(app.make_response(f(*args, **kwargs)))
                                                ^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/app.py", line 1484, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/app.py", line 1469, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/c/Users/HP/LyxNexus/app.py", line 440, in decorator
    return f(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^
  File "/mnt/c/Users/HP/LyxNexus/app.py", line 4697, in get_visit_analytics
    cutoff_time = nairobi_time() - timedelta(hours=24)
                  ~~~~~~~~~~~~~~~^~~~~~~~~~~~~~~~~~~~~
TypeError: unsupported operand type(s) for -: 'str' and 'datetime.timedelta'
2025-10-25 23:01:11,650 - app - ERROR - Internal Server Error: 500 Internal Server Error: The server encountered an internal error and was unable to complete your request. Either the server is overloaded or there is an error in the application.
Traceback (most recent call last):
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/app.py", line 2190, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/app.py", line 1486, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask_cors/extension.py", line 176, in wrapped_function
    return cors_after_request(app.make_response(f(*args, **kwargs)))
                                                ^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/app.py", line 1484, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/app.py", line 1469, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/c/Users/HP/LyxNexus/app.py", line 440, in decorator
    return f(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^
  File "/mnt/c/Users/HP/LyxNexus/app.py", line 4697, in get_visit_analytics
    cutoff_time = nairobi_time() - timedelta(hours=24)
                  ~~~~~~~~~~~~~~~^~~~~~~~~~~~~~~~~~~~~
TypeError: unsupported operand type(s) for -: 'str' and 'datetime.timedelta'
2025-10-25 23:01:41,521 - app - ERROR - Exception on /api/analytics/visits [GET]
Traceback (most recent call last):
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/app.py", line 2190, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/app.py", line 1486, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask_cors/extension.py", line 176, in wrapped_function
    return cors_after_request(app.make_response(f(*args, **kwargs)))
                                                ^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/app.py", line 1484, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/app.py", line 1469, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/c/Users/HP/LyxNexus/app.py", line 440, in decorator
    return f(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^
  File "/mnt/c/Users/HP/LyxNexus/app.py", line 4697, in get_visit_analytics
    cutoff_time = nairobi_time() - timedelta(hours=24)
                  ~~~~~~~~~~~~~~~^~~~~~~~~~~~~~~~~~~~~
TypeError: unsupported operand type(s) for -: 'str' and 'datetime.timedelta'
2025-10-25 23:01:41,553 - app - ERROR - Internal Server Error: 500 Internal Server Error: The server encountered an internal error and was unable to complete your request. Either the server is overloaded or there is an error in the application.
Traceback (most recent call last):
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/app.py", line 2190, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/app.py", line 1486, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask_cors/extension.py", line 176, in wrapped_function
    return cors_after_request(app.make_response(f(*args, **kwargs)))
                                                ^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/app.py", line 1484, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/app.py", line 1469, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/c/Users/HP/LyxNexus/app.py", line 440, in decorator
    return f(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^
  File "/mnt/c/Users/HP/LyxNexus/app.py", line 4697, in get_visit_analytics
    cutoff_time = nairobi_time() - timedelta(hours=24)
                  ~~~~~~~~~~~~~~~^~~~~~~~~~~~~~~~~~~~~
TypeError: unsupported operand type(s) for -: 'str' and 'datetime.timedelta'
2025-10-25 23:01:50,639 - apscheduler.executors.default - INFO - Running job "auto_close_sessions (trigger: interval[0:01:00], next run at: 2025-10-25 23:01:50 EAT)" (scheduled at 2025-10-25 23:01:50.628432+03:00)
2025-10-25 23:01:52,190 - app - ERROR - Exception on /api/analytics/visits [GET]
Traceback (most recent call last):
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/app.py", line 2190, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/app.py", line 1486, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask_cors/extension.py", line 176, in wrapped_function
    return cors_after_request(app.make_response(f(*args, **kwargs)))
                                                ^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/app.py", line 1484, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/app.py", line 1469, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/c/Users/HP/LyxNexus/app.py", line 440, in decorator
    return f(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^
  File "/mnt/c/Users/HP/LyxNexus/app.py", line 4697, in get_visit_analytics
    cutoff_time = nairobi_time() - timedelta(hours=24)
                  ~~~~~~~~~~~~~~~^~~~~~~~~~~~~~~~~~~~~
TypeError: unsupported operand type(s) for -: 'str' and 'datetime.timedelta'
2025-10-25 23:01:52,225 - app - ERROR - Internal Server Error: 500 Internal Server Error: The server encountered an internal error and was unable to complete your request. Either the server is overloaded or there is an error in the application.
Traceback (most recent call last):
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/app.py", line 2190, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/app.py", line 1486, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask_cors/extension.py", line 176, in wrapped_function
    return cors_after_request(app.make_response(f(*args, **kwargs)))
                                                ^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/app.py", line 1484, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/app.py", line 1469, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/c/Users/HP/LyxNexus/app.py", line 440, in decorator
    return f(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^
  File "/mnt/c/Users/HP/LyxNexus/app.py", line 4697, in get_visit_analytics
    cutoff_time = nairobi_time() - timedelta(hours=24)
                  ~~~~~~~~~~~~~~~^~~~~~~~~~~~~~~~~~~~~
TypeError: unsupported operand type(s) for -: 'str' and 'datetime.timedelta'
2025-10-25 23:01:56,038 - apscheduler.executors.default - INFO - Job "auto_close_sessions (trigger: interval[0:01:00], next run at: 2025-10-25 23:02:50 EAT)" executed successfully
2025-10-25 23:02:50,641 - apscheduler.executors.default - INFO - Running job "auto_close_sessions (trigger: interval[0:01:00], next run at: 2025-10-25 23:03:50 EAT)" (scheduled at 2025-10-25 23:02:50.628432+03:00)
2025-10-25 23:02:51,749 - apscheduler.scheduler - INFO - Scheduler has been shut down
2025-10-25 23:03:13,474 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-10-25 23:03:13,477 - apscheduler.scheduler - INFO - Added job "keep_databases_alive" to job store "default"
2025-10-25 23:03:13,477 - apscheduler.scheduler - INFO - Scheduler started
2025-10-25 23:03:13,480 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-10-25 23:03:13,482 - apscheduler.scheduler - INFO - Added job "auto_close_sessions" to job store "default"
2025-10-25 23:03:13,484 - apscheduler.scheduler - INFO - Scheduler started
2025-10-25 23:03:13,502 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-10-25 23:03:13,503 - apscheduler.scheduler - INFO - Added job "delete_old_announcements" to job store "default"
2025-10-25 23:03:13,515 - apscheduler.scheduler - INFO - Scheduler started
2025-10-25 23:03:13,562 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-10-25 23:03:13,563 - apscheduler.scheduler - INFO - Added job "ping_urls" to job store "default"
2025-10-25 23:03:13,563 - apscheduler.scheduler - INFO - Scheduler started
2025-10-25 23:04:13,486 - apscheduler.executors.default - INFO - Running job "auto_close_sessions (trigger: interval[0:01:00], next run at: 2025-10-25 23:04:13 EAT)" (scheduled at 2025-10-25 23:04:13.480260+03:00)
2025-10-25 23:04:20,305 - apscheduler.executors.default - INFO - Job "auto_close_sessions (trigger: interval[0:01:00], next run at: 2025-10-25 23:05:13 EAT)" executed successfully
2025-10-25 23:05:13,482 - apscheduler.executors.default - INFO - Running job "auto_close_sessions (trigger: interval[0:01:00], next run at: 2025-10-25 23:06:13 EAT)" (scheduled at 2025-10-25 23:05:13.480260+03:00)
2025-10-25 23:05:19,456 - apscheduler.executors.default - INFO - Job "auto_close_sessions (trigger: interval[0:01:00], next run at: 2025-10-25 23:06:13 EAT)" executed successfully
2025-10-25 23:06:13,477 - apscheduler.executors.default - INFO - Running job "keep_databases_alive (trigger: interval[0:03:00], next run at: 2025-10-25 23:06:13 EAT)" (scheduled at 2025-10-25 23:06:13.474543+03:00)
2025-10-25 23:06:13,558 - apscheduler.executors.default - INFO - Running job "auto_close_sessions (trigger: interval[0:01:00], next run at: 2025-10-25 23:07:13 EAT)" (scheduled at 2025-10-25 23:06:13.480260+03:00)
2025-10-25 23:06:13,568 - apscheduler.executors.default - INFO - Running job "ping_urls (trigger: interval[0:03:00], next run at: 2025-10-25 23:06:13 EAT)" (scheduled at 2025-10-25 23:06:13.561696+03:00)
2025-10-25 23:06:16,308 - apscheduler.executors.default - INFO - Job "ping_urls (trigger: interval[0:03:00], next run at: 2025-10-25 23:09:13 EAT)" executed successfully
2025-10-25 23:06:18,752 - apscheduler.executors.default - INFO - Job "auto_close_sessions (trigger: interval[0:01:00], next run at: 2025-10-25 23:07:13 EAT)" executed successfully
2025-10-25 23:06:23,858 - apscheduler.executors.default - INFO - Job "keep_databases_alive (trigger: interval[0:03:00], next run at: 2025-10-25 23:09:13 EAT)" executed successfully
2025-10-25 23:07:13,482 - apscheduler.executors.default - INFO - Running job "auto_close_sessions (trigger: interval[0:01:00], next run at: 2025-10-25 23:08:13 EAT)" (scheduled at 2025-10-25 23:07:13.480260+03:00)
2025-10-25 23:07:19,536 - apscheduler.executors.default - INFO - Job "auto_close_sessions (trigger: interval[0:01:00], next run at: 2025-10-25 23:08:13 EAT)" executed successfully
2025-10-25 23:08:13,480 - apscheduler.executors.default - INFO - Running job "auto_close_sessions (trigger: interval[0:01:00], next run at: 2025-10-25 23:09:13 EAT)" (scheduled at 2025-10-25 23:08:13.480260+03:00)
2025-10-25 23:08:18,410 - apscheduler.executors.default - INFO - Job "auto_close_sessions (trigger: interval[0:01:00], next run at: 2025-10-25 23:09:13 EAT)" executed successfully
2025-10-25 23:09:13,475 - apscheduler.executors.default - INFO - Running job "keep_databases_alive (trigger: interval[0:03:00], next run at: 2025-10-25 23:12:13 EAT)" (scheduled at 2025-10-25 23:09:13.474543+03:00)
2025-10-25 23:09:13,505 - apscheduler.executors.default - INFO - Running job "auto_close_sessions (trigger: interval[0:01:00], next run at: 2025-10-25 23:10:13 EAT)" (scheduled at 2025-10-25 23:09:13.480260+03:00)
2025-10-25 23:09:13,563 - apscheduler.executors.default - INFO - Running job "ping_urls (trigger: interval[0:03:00], next run at: 2025-10-25 23:12:13 EAT)" (scheduled at 2025-10-25 23:09:13.561696+03:00)
2025-10-25 23:09:16,746 - apscheduler.executors.default - INFO - Job "ping_urls (trigger: interval[0:03:00], next run at: 2025-10-25 23:12:13 EAT)" executed successfully
2025-10-25 23:09:18,174 - apscheduler.executors.default - INFO - Job "keep_databases_alive (trigger: interval[0:03:00], next run at: 2025-10-25 23:12:13 EAT)" executed successfully
2025-10-25 23:09:20,160 - apscheduler.executors.default - INFO - Job "auto_close_sessions (trigger: interval[0:01:00], next run at: 2025-10-25 23:10:13 EAT)" executed successfully
2025-10-25 23:10:13,482 - apscheduler.executors.default - INFO - Running job "auto_close_sessions (trigger: interval[0:01:00], next run at: 2025-10-25 23:11:13 EAT)" (scheduled at 2025-10-25 23:10:13.480260+03:00)
2025-10-25 23:10:18,528 - apscheduler.executors.default - INFO - Job "auto_close_sessions (trigger: interval[0:01:00], next run at: 2025-10-25 23:11:13 EAT)" executed successfully
2025-10-25 23:11:13,482 - apscheduler.executors.default - INFO - Running job "auto_close_sessions (trigger: interval[0:01:00], next run at: 2025-10-25 23:12:13 EAT)" (scheduled at 2025-10-25 23:11:13.480260+03:00)
2025-10-25 23:11:18,538 - apscheduler.executors.default - INFO - Job "auto_close_sessions (trigger: interval[0:01:00], next run at: 2025-10-25 23:12:13 EAT)" executed successfully
2025-10-25 23:12:13,493 - apscheduler.executors.default - INFO - Running job "keep_databases_alive (trigger: interval[0:03:00], next run at: 2025-10-25 23:15:13 EAT)" (scheduled at 2025-10-25 23:12:13.474543+03:00)
2025-10-25 23:12:13,497 - apscheduler.executors.default - INFO - Running job "auto_close_sessions (trigger: interval[0:01:00], next run at: 2025-10-25 23:13:13 EAT)" (scheduled at 2025-10-25 23:12:13.480260+03:00)
2025-10-25 23:12:13,572 - apscheduler.executors.default - INFO - Running job "ping_urls (trigger: interval[0:03:00], next run at: 2025-10-25 23:15:13 EAT)" (scheduled at 2025-10-25 23:12:13.561696+03:00)
2025-10-25 23:12:16,262 - apscheduler.executors.default - INFO - Job "ping_urls (trigger: interval[0:03:00], next run at: 2025-10-25 23:15:13 EAT)" executed successfully
2025-10-25 23:12:18,695 - apscheduler.executors.default - INFO - Job "keep_databases_alive (trigger: interval[0:03:00], next run at: 2025-10-25 23:15:13 EAT)" executed successfully
2025-10-25 23:12:18,726 - apscheduler.executors.default - INFO - Job "auto_close_sessions (trigger: interval[0:01:00], next run at: 2025-10-25 23:13:13 EAT)" executed successfully
2025-10-25 23:13:13,484 - apscheduler.executors.default - INFO - Running job "auto_close_sessions (trigger: interval[0:01:00], next run at: 2025-10-25 23:14:13 EAT)" (scheduled at 2025-10-25 23:13:13.480260+03:00)
2025-10-25 23:13:20,145 - apscheduler.executors.default - INFO - Job "auto_close_sessions (trigger: interval[0:01:00], next run at: 2025-10-25 23:14:13 EAT)" executed successfully
2025-10-25 23:14:13,481 - apscheduler.executors.default - INFO - Running job "auto_close_sessions (trigger: interval[0:01:00], next run at: 2025-10-25 23:15:13 EAT)" (scheduled at 2025-10-25 23:14:13.480260+03:00)
2025-10-25 23:14:18,841 - apscheduler.executors.default - INFO - Job "auto_close_sessions (trigger: interval[0:01:00], next run at: 2025-10-25 23:15:13 EAT)" executed successfully
2025-10-25 23:15:13,475 - apscheduler.executors.default - INFO - Running job "keep_databases_alive (trigger: interval[0:03:00], next run at: 2025-10-25 23:18:13 EAT)" (scheduled at 2025-10-25 23:15:13.474543+03:00)
2025-10-25 23:15:13,558 - apscheduler.executors.default - INFO - Running job "auto_close_sessions (trigger: interval[0:01:00], next run at: 2025-10-25 23:16:13 EAT)" (scheduled at 2025-10-25 23:15:13.480260+03:00)
2025-10-25 23:15:13,629 - apscheduler.executors.default - INFO - Running job "ping_urls (trigger: interval[0:03:00], next run at: 2025-10-25 23:18:13 EAT)" (scheduled at 2025-10-25 23:15:13.561696+03:00)
2025-10-25 23:15:16,220 - apscheduler.executors.default - INFO - Job "ping_urls (trigger: interval[0:03:00], next run at: 2025-10-25 23:18:13 EAT)" executed successfully
2025-10-25 23:15:18,282 - apscheduler.executors.default - INFO - Job "keep_databases_alive (trigger: interval[0:03:00], next run at: 2025-10-25 23:18:13 EAT)" executed successfully
2025-10-25 23:15:19,639 - apscheduler.executors.default - INFO - Job "auto_close_sessions (trigger: interval[0:01:00], next run at: 2025-10-25 23:16:13 EAT)" executed successfully
2025-10-25 23:16:11,967 - apscheduler.scheduler - INFO - Scheduler has been shut down
2025-10-25 23:16:37,643 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-10-25 23:16:37,648 - apscheduler.scheduler - INFO - Added job "keep_databases_alive" to job store "default"
2025-10-25 23:16:37,649 - apscheduler.scheduler - INFO - Scheduler started
2025-10-25 23:16:37,662 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-10-25 23:16:37,666 - apscheduler.scheduler - INFO - Added job "auto_close_sessions" to job store "default"
2025-10-25 23:16:37,683 - apscheduler.scheduler - INFO - Scheduler started
2025-10-25 23:16:37,808 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-10-25 23:16:37,814 - apscheduler.scheduler - INFO - Added job "delete_old_announcements" to job store "default"
2025-10-25 23:16:37,814 - apscheduler.scheduler - INFO - Scheduler started
2025-10-25 23:16:38,006 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-10-25 23:16:38,009 - apscheduler.scheduler - INFO - Added job "ping_urls" to job store "default"
2025-10-25 23:16:38,014 - apscheduler.scheduler - INFO - Scheduler started
2025-10-25 23:17:37,663 - apscheduler.executors.default - INFO - Running job "auto_close_sessions (trigger: interval[0:01:00], next run at: 2025-10-25 23:17:37 EAT)" (scheduled at 2025-10-25 23:17:37.662081+03:00)
2025-10-25 23:17:45,721 - apscheduler.executors.default - INFO - Job "auto_close_sessions (trigger: interval[0:01:00], next run at: 2025-10-25 23:18:37 EAT)" executed successfully
2025-10-25 23:18:37,663 - apscheduler.executors.default - INFO - Running job "auto_close_sessions (trigger: interval[0:01:00], next run at: 2025-10-25 23:19:37 EAT)" (scheduled at 2025-10-25 23:18:37.662081+03:00)
2025-10-25 23:18:44,081 - apscheduler.executors.default - INFO - Job "auto_close_sessions (trigger: interval[0:01:00], next run at: 2025-10-25 23:19:37 EAT)" executed successfully
2025-10-25 23:19:37,645 - apscheduler.executors.default - INFO - Running job "keep_databases_alive (trigger: interval[0:03:00], next run at: 2025-10-25 23:19:37 EAT)" (scheduled at 2025-10-25 23:19:37.643628+03:00)
2025-10-25 23:19:37,716 - apscheduler.executors.default - INFO - Running job "auto_close_sessions (trigger: interval[0:01:00], next run at: 2025-10-25 23:20:37 EAT)" (scheduled at 2025-10-25 23:19:37.662081+03:00)
2025-10-25 23:19:38,005 - apscheduler.executors.default - INFO - Running job "ping_urls (trigger: interval[0:03:00], next run at: 2025-10-25 23:19:38 EAT)" (scheduled at 2025-10-25 23:19:38.004610+03:00)
2025-10-25 23:19:40,749 - apscheduler.executors.default - INFO - Job "ping_urls (trigger: interval[0:03:00], next run at: 2025-10-25 23:22:38 EAT)" executed successfully
2025-10-25 23:19:44,619 - apscheduler.executors.default - INFO - Job "auto_close_sessions (trigger: interval[0:01:00], next run at: 2025-10-25 23:20:37 EAT)" executed successfully
2025-10-25 23:19:48,325 - apscheduler.executors.default - INFO - Job "keep_databases_alive (trigger: interval[0:03:00], next run at: 2025-10-25 23:22:37 EAT)" executed successfully
2025-10-25 23:20:37,664 - apscheduler.executors.default - INFO - Running job "auto_close_sessions (trigger: interval[0:01:00], next run at: 2025-10-25 23:21:37 EAT)" (scheduled at 2025-10-25 23:20:37.662081+03:00)
2025-10-25 23:20:44,585 - apscheduler.executors.default - INFO - Job "auto_close_sessions (trigger: interval[0:01:00], next run at: 2025-10-25 23:21:37 EAT)" executed successfully
2025-10-25 23:20:45,840 - apscheduler.scheduler - INFO - Scheduler has been shut down
2025-10-25 23:21:07,614 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-10-25 23:21:07,616 - apscheduler.scheduler - INFO - Added job "keep_databases_alive" to job store "default"
2025-10-25 23:21:07,617 - apscheduler.scheduler - INFO - Scheduler started
2025-10-25 23:21:07,623 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-10-25 23:21:07,626 - apscheduler.scheduler - INFO - Added job "auto_close_sessions" to job store "default"
2025-10-25 23:21:07,627 - apscheduler.scheduler - INFO - Scheduler started
2025-10-25 23:21:07,642 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-10-25 23:21:07,643 - apscheduler.scheduler - INFO - Added job "delete_old_announcements" to job store "default"
2025-10-25 23:21:07,645 - apscheduler.scheduler - INFO - Scheduler started
2025-10-25 23:21:07,694 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-10-25 23:21:07,694 - apscheduler.scheduler - INFO - Added job "ping_urls" to job store "default"
2025-10-25 23:21:07,695 - apscheduler.scheduler - INFO - Scheduler started
2025-10-25 23:21:15,685 - app - ERROR - Exception on /api/analytics/visits [GET]
Traceback (most recent call last):
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/app.py", line 2190, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/app.py", line 1486, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask_cors/extension.py", line 176, in wrapped_function
    return cors_after_request(app.make_response(f(*args, **kwargs)))
                                                ^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/app.py", line 1484, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/app.py", line 1469, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/c/Users/HP/LyxNexus/app.py", line 440, in decorator
    return f(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^
  File "/mnt/c/Users/HP/LyxNexus/app.py", line 4697, in get_visit_analytics
    cutoff_time = data() - timedelta(hours=24)
                  ~~~~~~~^~~~~~~~~~~~~~~~~~~~~~
TypeError: unsupported operand type(s) for -: 'str' and 'datetime.timedelta'
2025-10-25 23:21:15,791 - app - ERROR - Internal Server Error: 500 Internal Server Error: The server encountered an internal error and was unable to complete your request. Either the server is overloaded or there is an error in the application.
Traceback (most recent call last):
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/app.py", line 2190, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/app.py", line 1486, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask_cors/extension.py", line 176, in wrapped_function
    return cors_after_request(app.make_response(f(*args, **kwargs)))
                                                ^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/app.py", line 1484, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/app.py", line 1469, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/c/Users/HP/LyxNexus/app.py", line 440, in decorator
    return f(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^
  File "/mnt/c/Users/HP/LyxNexus/app.py", line 4697, in get_visit_analytics
    cutoff_time = data() - timedelta(hours=24)
                  ~~~~~~~^~~~~~~~~~~~~~~~~~~~~~
TypeError: unsupported operand type(s) for -: 'str' and 'datetime.timedelta'
2025-10-25 23:21:57,906 - apscheduler.scheduler - INFO - Scheduler has been shut down
2025-10-25 23:22:21,553 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-10-25 23:22:21,555 - apscheduler.scheduler - INFO - Added job "keep_databases_alive" to job store "default"
2025-10-25 23:22:21,556 - apscheduler.scheduler - INFO - Scheduler started
2025-10-25 23:22:21,558 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-10-25 23:22:21,561 - apscheduler.scheduler - INFO - Added job "auto_close_sessions" to job store "default"
2025-10-25 23:22:21,565 - apscheduler.scheduler - INFO - Scheduler started
2025-10-25 23:22:21,582 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-10-25 23:22:21,586 - apscheduler.scheduler - INFO - Added job "delete_old_announcements" to job store "default"
2025-10-25 23:22:21,587 - apscheduler.scheduler - INFO - Scheduler started
2025-10-25 23:22:21,631 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-10-25 23:22:21,639 - apscheduler.scheduler - INFO - Added job "ping_urls" to job store "default"
2025-10-25 23:22:21,639 - apscheduler.scheduler - INFO - Scheduler started
2025-10-25 23:23:21,561 - apscheduler.executors.default - INFO - Running job "auto_close_sessions (trigger: interval[0:01:00], next run at: 2025-10-25 23:23:21 EAT)" (scheduled at 2025-10-25 23:23:21.558635+03:00)
2025-10-25 23:23:27,736 - apscheduler.executors.default - INFO - Job "auto_close_sessions (trigger: interval[0:01:00], next run at: 2025-10-25 23:24:21 EAT)" executed successfully
2025-10-25 23:24:21,562 - apscheduler.executors.default - INFO - Running job "auto_close_sessions (trigger: interval[0:01:00], next run at: 2025-10-25 23:25:21 EAT)" (scheduled at 2025-10-25 23:24:21.558635+03:00)
2025-10-25 23:24:30,315 - apscheduler.executors.default - INFO - Job "auto_close_sessions (trigger: interval[0:01:00], next run at: 2025-10-25 23:25:21 EAT)" executed successfully
2025-10-25 23:25:21,554 - apscheduler.executors.default - INFO - Running job "keep_databases_alive (trigger: interval[0:03:00], next run at: 2025-10-25 23:25:21 EAT)" (scheduled at 2025-10-25 23:25:21.553154+03:00)
2025-10-25 23:25:21,654 - apscheduler.executors.default - INFO - Running job "auto_close_sessions (trigger: interval[0:01:00], next run at: 2025-10-25 23:26:21 EAT)" (scheduled at 2025-10-25 23:25:21.558635+03:00)
2025-10-25 23:25:21,708 - apscheduler.executors.default - INFO - Running job "ping_urls (trigger: interval[0:03:00], next run at: 2025-10-25 23:25:21 EAT)" (scheduled at 2025-10-25 23:25:21.631585+03:00)
2025-10-25 23:25:27,138 - apscheduler.executors.default - INFO - Job "ping_urls (trigger: interval[0:03:00], next run at: 2025-10-25 23:28:21 EAT)" executed successfully
2025-10-25 23:25:33,397 - apscheduler.executors.default - INFO - Job "auto_close_sessions (trigger: interval[0:01:00], next run at: 2025-10-25 23:26:21 EAT)" executed successfully
2025-10-25 23:25:40,086 - apscheduler.executors.default - INFO - Job "keep_databases_alive (trigger: interval[0:03:00], next run at: 2025-10-25 23:28:21 EAT)" executed successfully
2025-10-25 23:26:21,560 - apscheduler.executors.default - INFO - Running job "auto_close_sessions (trigger: interval[0:01:00], next run at: 2025-10-25 23:27:21 EAT)" (scheduled at 2025-10-25 23:26:21.558635+03:00)
2025-10-25 23:26:32,189 - apscheduler.executors.default - INFO - Job "auto_close_sessions (trigger: interval[0:01:00], next run at: 2025-10-25 23:27:21 EAT)" executed successfully
2025-10-25 23:27:21,560 - apscheduler.executors.default - INFO - Running job "auto_close_sessions (trigger: interval[0:01:00], next run at: 2025-10-25 23:28:21 EAT)" (scheduled at 2025-10-25 23:27:21.558635+03:00)
2025-10-25 23:27:29,419 - apscheduler.executors.default - INFO - Job "auto_close_sessions (trigger: interval[0:01:00], next run at: 2025-10-25 23:28:21 EAT)" executed successfully
2025-10-25 23:28:04,696 - apscheduler.scheduler - INFO - Scheduler has been shut down
2025-10-25 23:28:26,422 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-10-25 23:28:26,429 - apscheduler.scheduler - INFO - Added job "keep_databases_alive" to job store "default"
2025-10-25 23:28:26,430 - apscheduler.scheduler - INFO - Scheduler started
2025-10-25 23:28:26,438 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-10-25 23:28:26,440 - apscheduler.scheduler - INFO - Added job "auto_close_sessions" to job store "default"
2025-10-25 23:28:26,441 - apscheduler.scheduler - INFO - Scheduler started
2025-10-25 23:28:26,488 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-10-25 23:28:26,489 - apscheduler.scheduler - INFO - Added job "delete_old_announcements" to job store "default"
2025-10-25 23:28:26,489 - apscheduler.scheduler - INFO - Scheduler started
2025-10-25 23:28:26,572 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-10-25 23:28:26,572 - apscheduler.scheduler - INFO - Added job "ping_urls" to job store "default"
2025-10-25 23:28:26,573 - apscheduler.scheduler - INFO - Scheduler started
2025-10-25 23:28:32,592 - app - ERROR - Exception on /api/analytics/visits [GET]
Traceback (most recent call last):
  File "/home/lyxin/.venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
  File "/home/lyxin/.venv/lib/python3.12/site-packages/sqlalchemy/engine/default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
psycopg2.errors.UndefinedFunction: function strftime(unknown, timestamp without time zone) does not exist
LINE 1: SELECT strftime('%H', visit.timestamp) AS hour, count(visit....
               ^
HINT:  No function matches the given name and argument types. You might need to add explicit type casts.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/app.py", line 2190, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/app.py", line 1486, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask_cors/extension.py", line 176, in wrapped_function
    return cors_after_request(app.make_response(f(*args, **kwargs)))
                                                ^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/app.py", line 1484, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/app.py", line 1469, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/c/Users/HP/LyxNexus/app.py", line 440, in decorator
    return f(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^
  File "/mnt/c/Users/HP/LyxNexus/app.py", line 4713, in get_visit_analytics
    ).group_by(func.strftime('%H', Visit.timestamp)).all()
                                                     ^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/sqlalchemy/orm/query.py", line 2704, in all
    return self._iter().all()  # type: ignore
           ^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/sqlalchemy/orm/query.py", line 2857, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
                                                  ^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 2365, in execute
    return self._execute_internal(
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 2251, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/sqlalchemy/orm/context.py", line 306, in orm_execute_statement
    result = conn.execute(
             ^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1419, in execute
    return meth(
           ^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/sqlalchemy/sql/elements.py", line 526, in _execute_on_connection
    return connection._execute_clauseelement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
          ^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
  File "/home/lyxin/.venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 2355, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "/home/lyxin/.venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
  File "/home/lyxin/.venv/lib/python3.12/site-packages/sqlalchemy/engine/default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.ProgrammingError: (psycopg2.errors.UndefinedFunction) function strftime(unknown, timestamp without time zone) does not exist
LINE 1: SELECT strftime('%H', visit.timestamp) AS hour, count(visit....
               ^
HINT:  No function matches the given name and argument types. You might need to add explicit type casts.

[SQL: SELECT strftime(%(strftime_1)s, visit.timestamp) AS hour, count(visit.id) AS count 
FROM visit 
WHERE visit.timestamp >= %(timestamp_1)s GROUP BY strftime(%(strftime_2)s, visit.timestamp)]
[parameters: {'strftime_1': '%H', 'timestamp_1': datetime.datetime(2025, 10, 24, 23, 28, 31, 735844), 'strftime_2': '%H'}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-10-25 23:28:32,931 - app - ERROR - Internal Server Error: 500 Internal Server Error: The server encountered an internal error and was unable to complete your request. Either the server is overloaded or there is an error in the application.
Traceback (most recent call last):
  File "/home/lyxin/.venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
  File "/home/lyxin/.venv/lib/python3.12/site-packages/sqlalchemy/engine/default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
psycopg2.errors.UndefinedFunction: function strftime(unknown, timestamp without time zone) does not exist
LINE 1: SELECT strftime('%H', visit.timestamp) AS hour, count(visit....
               ^
HINT:  No function matches the given name and argument types. You might need to add explicit type casts.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/app.py", line 2190, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/app.py", line 1486, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask_cors/extension.py", line 176, in wrapped_function
    return cors_after_request(app.make_response(f(*args, **kwargs)))
                                                ^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/app.py", line 1484, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/app.py", line 1469, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/c/Users/HP/LyxNexus/app.py", line 440, in decorator
    return f(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^
  File "/mnt/c/Users/HP/LyxNexus/app.py", line 4713, in get_visit_analytics
    ).group_by(func.strftime('%H', Visit.timestamp)).all()
                                                     ^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/sqlalchemy/orm/query.py", line 2704, in all
    return self._iter().all()  # type: ignore
           ^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/sqlalchemy/orm/query.py", line 2857, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
                                                  ^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 2365, in execute
    return self._execute_internal(
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 2251, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/sqlalchemy/orm/context.py", line 306, in orm_execute_statement
    result = conn.execute(
             ^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1419, in execute
    return meth(
           ^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/sqlalchemy/sql/elements.py", line 526, in _execute_on_connection
    return connection._execute_clauseelement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
          ^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
  File "/home/lyxin/.venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 2355, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "/home/lyxin/.venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
  File "/home/lyxin/.venv/lib/python3.12/site-packages/sqlalchemy/engine/default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.ProgrammingError: (psycopg2.errors.UndefinedFunction) function strftime(unknown, timestamp without time zone) does not exist
LINE 1: SELECT strftime('%H', visit.timestamp) AS hour, count(visit....
               ^
HINT:  No function matches the given name and argument types. You might need to add explicit type casts.

[SQL: SELECT strftime(%(strftime_1)s, visit.timestamp) AS hour, count(visit.id) AS count 
FROM visit 
WHERE visit.timestamp >= %(timestamp_1)s GROUP BY strftime(%(strftime_2)s, visit.timestamp)]
[parameters: {'strftime_1': '%H', 'timestamp_1': datetime.datetime(2025, 10, 24, 23, 28, 31, 735844), 'strftime_2': '%H'}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-10-25 23:28:45,717 - app - ERROR - Exception on /api/analytics/visits [GET]
Traceback (most recent call last):
  File "/home/lyxin/.venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
  File "/home/lyxin/.venv/lib/python3.12/site-packages/sqlalchemy/engine/default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
psycopg2.errors.UndefinedFunction: function strftime(unknown, timestamp without time zone) does not exist
LINE 1: SELECT strftime('%H', visit.timestamp) AS hour, count(visit....
               ^
HINT:  No function matches the given name and argument types. You might need to add explicit type casts.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/app.py", line 2190, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/app.py", line 1486, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask_cors/extension.py", line 176, in wrapped_function
    return cors_after_request(app.make_response(f(*args, **kwargs)))
                                                ^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/app.py", line 1484, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/app.py", line 1469, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/c/Users/HP/LyxNexus/app.py", line 440, in decorator
    return f(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^
  File "/mnt/c/Users/HP/LyxNexus/app.py", line 4713, in get_visit_analytics
    ).group_by(func.strftime('%H', Visit.timestamp)).all()
                                                     ^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/sqlalchemy/orm/query.py", line 2704, in all
    return self._iter().all()  # type: ignore
           ^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/sqlalchemy/orm/query.py", line 2857, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
                                                  ^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 2365, in execute
    return self._execute_internal(
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 2251, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/sqlalchemy/orm/context.py", line 306, in orm_execute_statement
    result = conn.execute(
             ^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1419, in execute
    return meth(
           ^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/sqlalchemy/sql/elements.py", line 526, in _execute_on_connection
    return connection._execute_clauseelement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
          ^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
  File "/home/lyxin/.venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 2355, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "/home/lyxin/.venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
  File "/home/lyxin/.venv/lib/python3.12/site-packages/sqlalchemy/engine/default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.ProgrammingError: (psycopg2.errors.UndefinedFunction) function strftime(unknown, timestamp without time zone) does not exist
LINE 1: SELECT strftime('%H', visit.timestamp) AS hour, count(visit....
               ^
HINT:  No function matches the given name and argument types. You might need to add explicit type casts.

[SQL: SELECT strftime(%(strftime_1)s, visit.timestamp) AS hour, count(visit.id) AS count 
FROM visit 
WHERE visit.timestamp >= %(timestamp_1)s GROUP BY strftime(%(strftime_2)s, visit.timestamp)]
[parameters: {'strftime_1': '%H', 'timestamp_1': datetime.datetime(2025, 10, 24, 23, 28, 44, 898155), 'strftime_2': '%H'}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-10-25 23:28:45,819 - app - ERROR - Internal Server Error: 500 Internal Server Error: The server encountered an internal error and was unable to complete your request. Either the server is overloaded or there is an error in the application.
Traceback (most recent call last):
  File "/home/lyxin/.venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
  File "/home/lyxin/.venv/lib/python3.12/site-packages/sqlalchemy/engine/default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
psycopg2.errors.UndefinedFunction: function strftime(unknown, timestamp without time zone) does not exist
LINE 1: SELECT strftime('%H', visit.timestamp) AS hour, count(visit....
               ^
HINT:  No function matches the given name and argument types. You might need to add explicit type casts.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/app.py", line 2190, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/app.py", line 1486, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask_cors/extension.py", line 176, in wrapped_function
    return cors_after_request(app.make_response(f(*args, **kwargs)))
                                                ^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/app.py", line 1484, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/app.py", line 1469, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/c/Users/HP/LyxNexus/app.py", line 440, in decorator
    return f(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^
  File "/mnt/c/Users/HP/LyxNexus/app.py", line 4713, in get_visit_analytics
    ).group_by(func.strftime('%H', Visit.timestamp)).all()
                                                     ^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/sqlalchemy/orm/query.py", line 2704, in all
    return self._iter().all()  # type: ignore
           ^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/sqlalchemy/orm/query.py", line 2857, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
                                                  ^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 2365, in execute
    return self._execute_internal(
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 2251, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/sqlalchemy/orm/context.py", line 306, in orm_execute_statement
    result = conn.execute(
             ^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1419, in execute
    return meth(
           ^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/sqlalchemy/sql/elements.py", line 526, in _execute_on_connection
    return connection._execute_clauseelement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
          ^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
  File "/home/lyxin/.venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 2355, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "/home/lyxin/.venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
  File "/home/lyxin/.venv/lib/python3.12/site-packages/sqlalchemy/engine/default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.ProgrammingError: (psycopg2.errors.UndefinedFunction) function strftime(unknown, timestamp without time zone) does not exist
LINE 1: SELECT strftime('%H', visit.timestamp) AS hour, count(visit....
               ^
HINT:  No function matches the given name and argument types. You might need to add explicit type casts.

[SQL: SELECT strftime(%(strftime_1)s, visit.timestamp) AS hour, count(visit.id) AS count 
FROM visit 
WHERE visit.timestamp >= %(timestamp_1)s GROUP BY strftime(%(strftime_2)s, visit.timestamp)]
[parameters: {'strftime_1': '%H', 'timestamp_1': datetime.datetime(2025, 10, 24, 23, 28, 44, 898155), 'strftime_2': '%H'}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-10-25 23:29:26,440 - apscheduler.executors.default - INFO - Running job "auto_close_sessions (trigger: interval[0:01:00], next run at: 2025-10-25 23:29:26 EAT)" (scheduled at 2025-10-25 23:29:26.438574+03:00)
2025-10-25 23:29:32,436 - apscheduler.executors.default - INFO - Job "auto_close_sessions (trigger: interval[0:01:00], next run at: 2025-10-25 23:30:26 EAT)" executed successfully
2025-10-25 23:30:06,194 - apscheduler.scheduler - INFO - Scheduler has been shut down
2025-10-25 23:30:28,227 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-10-25 23:30:28,230 - apscheduler.scheduler - INFO - Added job "keep_databases_alive" to job store "default"
2025-10-25 23:30:28,230 - apscheduler.scheduler - INFO - Scheduler started
2025-10-25 23:30:28,233 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-10-25 23:30:28,248 - apscheduler.scheduler - INFO - Added job "auto_close_sessions" to job store "default"
2025-10-25 23:30:28,248 - apscheduler.scheduler - INFO - Scheduler started
2025-10-25 23:30:28,258 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-10-25 23:30:28,259 - apscheduler.scheduler - INFO - Added job "delete_old_announcements" to job store "default"
2025-10-25 23:30:28,260 - apscheduler.scheduler - INFO - Scheduler started
2025-10-25 23:30:28,327 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-10-25 23:30:28,328 - apscheduler.scheduler - INFO - Added job "ping_urls" to job store "default"
2025-10-25 23:30:28,329 - apscheduler.scheduler - INFO - Scheduler started
2025-10-25 23:30:33,933 - app - ERROR - Exception on /api/analytics/visits [GET]
Traceback (most recent call last):
  File "/home/lyxin/.venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
  File "/home/lyxin/.venv/lib/python3.12/site-packages/sqlalchemy/engine/default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
psycopg2.errors.UndefinedFunction: function strftime(unknown, timestamp without time zone) does not exist
LINE 1: SELECT strftime('%H', visit.timestamp) AS hour, count(visit....
               ^
HINT:  No function matches the given name and argument types. You might need to add explicit type casts.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/app.py", line 2190, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/app.py", line 1486, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask_cors/extension.py", line 176, in wrapped_function
    return cors_after_request(app.make_response(f(*args, **kwargs)))
                                                ^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/app.py", line 1484, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/app.py", line 1469, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/c/Users/HP/LyxNexus/app.py", line 440, in decorator
    return f(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^
  File "/mnt/c/Users/HP/LyxNexus/app.py", line 4713, in get_visit_analytics
    ).group_by(func.strftime('%H', Visit.timestamp)).all()
                                                     ^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/sqlalchemy/orm/query.py", line 2704, in all
    return self._iter().all()  # type: ignore
           ^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/sqlalchemy/orm/query.py", line 2857, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
                                                  ^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 2365, in execute
    return self._execute_internal(
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 2251, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/sqlalchemy/orm/context.py", line 306, in orm_execute_statement
    result = conn.execute(
             ^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1419, in execute
    return meth(
           ^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/sqlalchemy/sql/elements.py", line 526, in _execute_on_connection
    return connection._execute_clauseelement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
          ^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
  File "/home/lyxin/.venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 2355, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "/home/lyxin/.venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
  File "/home/lyxin/.venv/lib/python3.12/site-packages/sqlalchemy/engine/default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.ProgrammingError: (psycopg2.errors.UndefinedFunction) function strftime(unknown, timestamp without time zone) does not exist
LINE 1: SELECT strftime('%H', visit.timestamp) AS hour, count(visit....
               ^
HINT:  No function matches the given name and argument types. You might need to add explicit type casts.

[SQL: SELECT strftime(%(strftime_1)s, visit.timestamp) AS hour, count(visit.id) AS count 
FROM visit 
WHERE visit.timestamp >= %(timestamp_1)s GROUP BY strftime(%(strftime_2)s, visit.timestamp)]
[parameters: {'strftime_1': '%H', 'timestamp_1': datetime.datetime(2025, 10, 24, 23, 30, 33, 79679), 'strftime_2': '%H'}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-10-25 23:30:34,104 - app - ERROR - Internal Server Error: 500 Internal Server Error: The server encountered an internal error and was unable to complete your request. Either the server is overloaded or there is an error in the application.
Traceback (most recent call last):
  File "/home/lyxin/.venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
  File "/home/lyxin/.venv/lib/python3.12/site-packages/sqlalchemy/engine/default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
psycopg2.errors.UndefinedFunction: function strftime(unknown, timestamp without time zone) does not exist
LINE 1: SELECT strftime('%H', visit.timestamp) AS hour, count(visit....
               ^
HINT:  No function matches the given name and argument types. You might need to add explicit type casts.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/app.py", line 2190, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/app.py", line 1486, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask_cors/extension.py", line 176, in wrapped_function
    return cors_after_request(app.make_response(f(*args, **kwargs)))
                                                ^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/app.py", line 1484, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/app.py", line 1469, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/c/Users/HP/LyxNexus/app.py", line 440, in decorator
    return f(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^
  File "/mnt/c/Users/HP/LyxNexus/app.py", line 4713, in get_visit_analytics
    ).group_by(func.strftime('%H', Visit.timestamp)).all()
                                                     ^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/sqlalchemy/orm/query.py", line 2704, in all
    return self._iter().all()  # type: ignore
           ^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/sqlalchemy/orm/query.py", line 2857, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
                                                  ^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 2365, in execute
    return self._execute_internal(
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 2251, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/sqlalchemy/orm/context.py", line 306, in orm_execute_statement
    result = conn.execute(
             ^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1419, in execute
    return meth(
           ^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/sqlalchemy/sql/elements.py", line 526, in _execute_on_connection
    return connection._execute_clauseelement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
          ^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
  File "/home/lyxin/.venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 2355, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "/home/lyxin/.venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
  File "/home/lyxin/.venv/lib/python3.12/site-packages/sqlalchemy/engine/default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.ProgrammingError: (psycopg2.errors.UndefinedFunction) function strftime(unknown, timestamp without time zone) does not exist
LINE 1: SELECT strftime('%H', visit.timestamp) AS hour, count(visit....
               ^
HINT:  No function matches the given name and argument types. You might need to add explicit type casts.

[SQL: SELECT strftime(%(strftime_1)s, visit.timestamp) AS hour, count(visit.id) AS count 
FROM visit 
WHERE visit.timestamp >= %(timestamp_1)s GROUP BY strftime(%(strftime_2)s, visit.timestamp)]
[parameters: {'strftime_1': '%H', 'timestamp_1': datetime.datetime(2025, 10, 24, 23, 30, 33, 79679), 'strftime_2': '%H'}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-10-25 23:32:11,306 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-10-25 23:32:11,309 - apscheduler.scheduler - INFO - Added job "keep_databases_alive" to job store "default"
2025-10-25 23:32:11,309 - apscheduler.scheduler - INFO - Scheduler started
2025-10-25 23:32:11,313 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-10-25 23:32:11,324 - apscheduler.scheduler - INFO - Added job "auto_close_sessions" to job store "default"
2025-10-25 23:32:11,326 - apscheduler.scheduler - INFO - Scheduler started
2025-10-25 23:32:11,353 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-10-25 23:32:11,356 - apscheduler.scheduler - INFO - Added job "delete_old_announcements" to job store "default"
2025-10-25 23:32:11,363 - apscheduler.scheduler - INFO - Scheduler started
2025-10-25 23:32:11,427 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-10-25 23:32:11,428 - apscheduler.scheduler - INFO - Added job "ping_urls" to job store "default"
2025-10-25 23:32:11,429 - apscheduler.scheduler - INFO - Scheduler started
2025-10-25 23:33:11,318 - apscheduler.executors.default - INFO - Running job "auto_close_sessions (trigger: interval[0:01:00], next run at: 2025-10-25 23:33:11 EAT)" (scheduled at 2025-10-25 23:33:11.312489+03:00)
2025-10-25 23:33:21,471 - apscheduler.executors.default - INFO - Job "auto_close_sessions (trigger: interval[0:01:00], next run at: 2025-10-25 23:34:11 EAT)" executed successfully
2025-10-25 23:34:11,313 - apscheduler.executors.default - INFO - Running job "auto_close_sessions (trigger: interval[0:01:00], next run at: 2025-10-25 23:35:11 EAT)" (scheduled at 2025-10-25 23:34:11.312489+03:00)
2025-10-25 23:34:18,648 - apscheduler.executors.default - INFO - Job "auto_close_sessions (trigger: interval[0:01:00], next run at: 2025-10-25 23:35:11 EAT)" executed successfully
2025-10-25 23:35:11,308 - apscheduler.executors.default - INFO - Running job "keep_databases_alive (trigger: interval[0:03:00], next run at: 2025-10-25 23:35:11 EAT)" (scheduled at 2025-10-25 23:35:11.306548+03:00)
2025-10-25 23:35:11,337 - apscheduler.executors.default - INFO - Running job "auto_close_sessions (trigger: interval[0:01:00], next run at: 2025-10-25 23:36:11 EAT)" (scheduled at 2025-10-25 23:35:11.312489+03:00)
2025-10-25 23:35:11,428 - apscheduler.executors.default - INFO - Running job "ping_urls (trigger: interval[0:03:00], next run at: 2025-10-25 23:35:11 EAT)" (scheduled at 2025-10-25 23:35:11.427689+03:00)
2025-10-25 23:35:16,896 - apscheduler.executors.default - INFO - Job "ping_urls (trigger: interval[0:03:00], next run at: 2025-10-25 23:38:11 EAT)" executed successfully
2025-10-25 23:35:18,114 - apscheduler.executors.default - INFO - Job "auto_close_sessions (trigger: interval[0:01:00], next run at: 2025-10-25 23:36:11 EAT)" executed successfully
2025-10-25 23:35:21,706 - apscheduler.executors.default - INFO - Job "keep_databases_alive (trigger: interval[0:03:00], next run at: 2025-10-25 23:38:11 EAT)" executed successfully
2025-10-25 23:36:11,313 - apscheduler.executors.default - INFO - Running job "auto_close_sessions (trigger: interval[0:01:00], next run at: 2025-10-25 23:37:11 EAT)" (scheduled at 2025-10-25 23:36:11.312489+03:00)
2025-10-25 23:36:18,823 - apscheduler.executors.default - INFO - Job "auto_close_sessions (trigger: interval[0:01:00], next run at: 2025-10-25 23:37:11 EAT)" executed successfully
2025-10-25 23:37:11,315 - apscheduler.executors.default - INFO - Running job "auto_close_sessions (trigger: interval[0:01:00], next run at: 2025-10-25 23:38:11 EAT)" (scheduled at 2025-10-25 23:37:11.312489+03:00)
2025-10-25 23:37:18,076 - apscheduler.executors.default - INFO - Job "auto_close_sessions (trigger: interval[0:01:00], next run at: 2025-10-25 23:38:11 EAT)" executed successfully
2025-10-25 23:38:11,307 - apscheduler.executors.default - INFO - Running job "keep_databases_alive (trigger: interval[0:03:00], next run at: 2025-10-25 23:41:11 EAT)" (scheduled at 2025-10-25 23:38:11.306548+03:00)
2025-10-25 23:38:11,389 - apscheduler.executors.default - INFO - Running job "auto_close_sessions (trigger: interval[0:01:00], next run at: 2025-10-25 23:39:11 EAT)" (scheduled at 2025-10-25 23:38:11.312489+03:00)
2025-10-25 23:38:11,485 - apscheduler.executors.default - INFO - Running job "ping_urls (trigger: interval[0:03:00], next run at: 2025-10-25 23:41:11 EAT)" (scheduled at 2025-10-25 23:38:11.427689+03:00)
2025-10-25 23:38:14,246 - apscheduler.executors.default - INFO - Job "ping_urls (trigger: interval[0:03:00], next run at: 2025-10-25 23:41:11 EAT)" executed successfully
2025-10-25 23:38:17,173 - apscheduler.executors.default - INFO - Job "keep_databases_alive (trigger: interval[0:03:00], next run at: 2025-10-25 23:41:11 EAT)" executed successfully
2025-10-25 23:38:18,100 - apscheduler.executors.default - INFO - Job "auto_close_sessions (trigger: interval[0:01:00], next run at: 2025-10-25 23:39:11 EAT)" executed successfully
2025-10-25 23:39:11,314 - apscheduler.executors.default - INFO - Running job "auto_close_sessions (trigger: interval[0:01:00], next run at: 2025-10-25 23:40:11 EAT)" (scheduled at 2025-10-25 23:39:11.312489+03:00)
2025-10-25 23:39:18,402 - apscheduler.executors.default - INFO - Job "auto_close_sessions (trigger: interval[0:01:00], next run at: 2025-10-25 23:40:11 EAT)" executed successfully
2025-10-25 23:40:11,315 - apscheduler.executors.default - INFO - Running job "auto_close_sessions (trigger: interval[0:01:00], next run at: 2025-10-25 23:41:11 EAT)" (scheduled at 2025-10-25 23:40:11.312489+03:00)
2025-10-25 23:40:18,928 - apscheduler.executors.default - INFO - Job "auto_close_sessions (trigger: interval[0:01:00], next run at: 2025-10-25 23:41:11 EAT)" executed successfully
2025-10-25 23:40:57,327 - apscheduler.scheduler - INFO - Scheduler has been shut down
2025-10-25 23:41:27,193 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-10-25 23:41:27,197 - apscheduler.scheduler - INFO - Added job "keep_databases_alive" to job store "default"
2025-10-25 23:41:27,198 - apscheduler.scheduler - INFO - Scheduler started
2025-10-25 23:41:27,203 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-10-25 23:41:27,205 - apscheduler.scheduler - INFO - Added job "auto_close_sessions" to job store "default"
2025-10-25 23:41:27,206 - apscheduler.scheduler - INFO - Scheduler started
2025-10-25 23:41:27,226 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-10-25 23:41:27,229 - apscheduler.scheduler - INFO - Added job "delete_old_announcements" to job store "default"
2025-10-25 23:41:27,237 - apscheduler.scheduler - INFO - Scheduler started
2025-10-25 23:41:27,302 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-10-25 23:41:27,303 - apscheduler.scheduler - INFO - Added job "ping_urls" to job store "default"
2025-10-25 23:41:27,304 - apscheduler.scheduler - INFO - Scheduler started
2025-10-25 23:42:09,065 - apscheduler.scheduler - INFO - Scheduler has been shut down
2025-10-30 17:47:55,366 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-10-30 17:47:55,419 - apscheduler.scheduler - INFO - Added job "keep_databases_alive" to job store "default"
2025-10-30 17:47:55,419 - apscheduler.scheduler - INFO - Scheduler started
2025-10-30 17:47:55,423 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-10-30 17:47:55,424 - apscheduler.scheduler - INFO - Added job "auto_close_sessions" to job store "default"
2025-10-30 17:47:55,425 - apscheduler.scheduler - INFO - Scheduler started
2025-10-30 17:47:55,440 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-10-30 17:47:55,442 - apscheduler.scheduler - INFO - Added job "delete_old_announcements" to job store "default"
2025-10-30 17:47:55,442 - apscheduler.scheduler - INFO - Scheduler started
2025-10-30 17:47:55,606 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-10-30 17:47:55,607 - apscheduler.scheduler - INFO - Added job "ping_urls" to job store "default"
2025-10-30 17:47:55,608 - apscheduler.scheduler - INFO - Scheduler started
2025-10-30 17:47:55,755 - app - ERROR - Exception on / [HEAD]
Traceback (most recent call last):
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/app.py", line 2189, in wsgi_app
    ctx.push()
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/ctx.py", line 377, in push
    self.session = session_interface.open_session(self.app, self.request)
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask_session/sessions.py", line 329, in open_session
    sid = request.cookies.get(app.session_cookie_name)
                              ^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'Flask' object has no attribute 'session_cookie_name'
2025-10-30 17:47:55,940 - app - ERROR - Internal Server Error: 500 Internal Server Error: The server encountered an internal error and was unable to complete your request. Either the server is overloaded or there is an error in the application.
Traceback (most recent call last):
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/app.py", line 2189, in wsgi_app
    ctx.push()
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/ctx.py", line 377, in push
    self.session = session_interface.open_session(self.app, self.request)
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask_session/sessions.py", line 329, in open_session
    sid = request.cookies.get(app.session_cookie_name)
                              ^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'Flask' object has no attribute 'session_cookie_name'
2025-10-30 17:47:58,002 - app - ERROR - Exception on /login [GET]
Traceback (most recent call last):
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/app.py", line 2189, in wsgi_app
    ctx.push()
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/ctx.py", line 377, in push
    self.session = session_interface.open_session(self.app, self.request)
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask_session/sessions.py", line 329, in open_session
    sid = request.cookies.get(app.session_cookie_name)
                              ^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'Flask' object has no attribute 'session_cookie_name'
2025-10-30 17:47:58,104 - app - ERROR - Internal Server Error: 500 Internal Server Error: The server encountered an internal error and was unable to complete your request. Either the server is overloaded or there is an error in the application.
Traceback (most recent call last):
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/app.py", line 2189, in wsgi_app
    ctx.push()
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/ctx.py", line 377, in push
    self.session = session_interface.open_session(self.app, self.request)
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask_session/sessions.py", line 329, in open_session
    sid = request.cookies.get(app.session_cookie_name)
                              ^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'Flask' object has no attribute 'session_cookie_name'
2025-10-30 17:47:58,427 - app - ERROR - Exception on /favicon.ico [GET]
Traceback (most recent call last):
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/app.py", line 2189, in wsgi_app
    ctx.push()
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/ctx.py", line 377, in push
    self.session = session_interface.open_session(self.app, self.request)
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask_session/sessions.py", line 329, in open_session
    sid = request.cookies.get(app.session_cookie_name)
                              ^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'Flask' object has no attribute 'session_cookie_name'
2025-10-30 17:47:58,453 - app - ERROR - Internal Server Error: 500 Internal Server Error: The server encountered an internal error and was unable to complete your request. Either the server is overloaded or there is an error in the application.
Traceback (most recent call last):
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/app.py", line 2189, in wsgi_app
    ctx.push()
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/ctx.py", line 377, in push
    self.session = session_interface.open_session(self.app, self.request)
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask_session/sessions.py", line 329, in open_session
    sid = request.cookies.get(app.session_cookie_name)
                              ^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'Flask' object has no attribute 'session_cookie_name'
2025-10-30 17:48:01,253 - app - ERROR - Exception on /service-worker.js [GET]
Traceback (most recent call last):
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/app.py", line 2189, in wsgi_app
    ctx.push()
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/ctx.py", line 377, in push
    self.session = session_interface.open_session(self.app, self.request)
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask_session/sessions.py", line 329, in open_session
    sid = request.cookies.get(app.session_cookie_name)
                              ^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'Flask' object has no attribute 'session_cookie_name'
2025-10-30 17:48:01,289 - app - ERROR - Internal Server Error: 500 Internal Server Error: The server encountered an internal error and was unable to complete your request. Either the server is overloaded or there is an error in the application.
Traceback (most recent call last):
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/app.py", line 2189, in wsgi_app
    ctx.push()
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/ctx.py", line 377, in push
    self.session = session_interface.open_session(self.app, self.request)
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask_session/sessions.py", line 329, in open_session
    sid = request.cookies.get(app.session_cookie_name)
                              ^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'Flask' object has no attribute 'session_cookie_name'
2025-10-30 17:48:29,610 - app - ERROR - Exception on /service-worker.js [GET]
Traceback (most recent call last):
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/app.py", line 2189, in wsgi_app
    ctx.push()
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/ctx.py", line 377, in push
    self.session = session_interface.open_session(self.app, self.request)
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask_session/sessions.py", line 329, in open_session
    sid = request.cookies.get(app.session_cookie_name)
                              ^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'Flask' object has no attribute 'session_cookie_name'
2025-10-30 17:48:29,694 - app - ERROR - Internal Server Error: 500 Internal Server Error: The server encountered an internal error and was unable to complete your request. Either the server is overloaded or there is an error in the application.
Traceback (most recent call last):
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/app.py", line 2189, in wsgi_app
    ctx.push()
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/ctx.py", line 377, in push
    self.session = session_interface.open_session(self.app, self.request)
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask_session/sessions.py", line 329, in open_session
    sid = request.cookies.get(app.session_cookie_name)
                              ^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'Flask' object has no attribute 'session_cookie_name'
2025-10-30 17:48:55,428 - apscheduler.executors.default - INFO - Running job "auto_close_sessions (trigger: interval[0:01:00], next run at: 2025-10-30 17:48:55 EAT)" (scheduled at 2025-10-30 17:48:55.423491+03:00)
2025-10-30 17:49:04,898 - apscheduler.executors.default - INFO - Job "auto_close_sessions (trigger: interval[0:01:00], next run at: 2025-10-30 17:49:55 EAT)" executed successfully
2025-10-30 17:49:08,536 - app - ERROR - Exception on /login [GET]
Traceback (most recent call last):
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/app.py", line 2189, in wsgi_app
    ctx.push()
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/ctx.py", line 377, in push
    self.session = session_interface.open_session(self.app, self.request)
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask_session/sessions.py", line 329, in open_session
    sid = request.cookies.get(app.session_cookie_name)
                              ^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'Flask' object has no attribute 'session_cookie_name'
2025-10-30 17:49:08,584 - app - ERROR - Internal Server Error: 500 Internal Server Error: The server encountered an internal error and was unable to complete your request. Either the server is overloaded or there is an error in the application.
Traceback (most recent call last):
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/app.py", line 2189, in wsgi_app
    ctx.push()
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/ctx.py", line 377, in push
    self.session = session_interface.open_session(self.app, self.request)
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask_session/sessions.py", line 329, in open_session
    sid = request.cookies.get(app.session_cookie_name)
                              ^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'Flask' object has no attribute 'session_cookie_name'
2025-10-30 17:49:08,726 - app - ERROR - Exception on /favicon.ico [GET]
Traceback (most recent call last):
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/app.py", line 2189, in wsgi_app
    ctx.push()
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/ctx.py", line 377, in push
    self.session = session_interface.open_session(self.app, self.request)
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask_session/sessions.py", line 329, in open_session
    sid = request.cookies.get(app.session_cookie_name)
                              ^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'Flask' object has no attribute 'session_cookie_name'
2025-10-30 17:49:08,793 - app - ERROR - Internal Server Error: 500 Internal Server Error: The server encountered an internal error and was unable to complete your request. Either the server is overloaded or there is an error in the application.
Traceback (most recent call last):
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/app.py", line 2189, in wsgi_app
    ctx.push()
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/ctx.py", line 377, in push
    self.session = session_interface.open_session(self.app, self.request)
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask_session/sessions.py", line 329, in open_session
    sid = request.cookies.get(app.session_cookie_name)
                              ^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'Flask' object has no attribute 'session_cookie_name'
2025-10-30 17:49:09,450 - app - ERROR - Exception on /login [GET]
Traceback (most recent call last):
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/app.py", line 2189, in wsgi_app
    ctx.push()
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/ctx.py", line 377, in push
    self.session = session_interface.open_session(self.app, self.request)
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask_session/sessions.py", line 329, in open_session
    sid = request.cookies.get(app.session_cookie_name)
                              ^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'Flask' object has no attribute 'session_cookie_name'
2025-10-30 17:49:09,477 - app - ERROR - Internal Server Error: 500 Internal Server Error: The server encountered an internal error and was unable to complete your request. Either the server is overloaded or there is an error in the application.
Traceback (most recent call last):
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/app.py", line 2189, in wsgi_app
    ctx.push()
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/ctx.py", line 377, in push
    self.session = session_interface.open_session(self.app, self.request)
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask_session/sessions.py", line 329, in open_session
    sid = request.cookies.get(app.session_cookie_name)
                              ^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'Flask' object has no attribute 'session_cookie_name'
2025-10-30 17:49:09,593 - app - ERROR - Exception on /favicon.ico [GET]
Traceback (most recent call last):
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/app.py", line 2189, in wsgi_app
    ctx.push()
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/ctx.py", line 377, in push
    self.session = session_interface.open_session(self.app, self.request)
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask_session/sessions.py", line 329, in open_session
    sid = request.cookies.get(app.session_cookie_name)
                              ^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'Flask' object has no attribute 'session_cookie_name'
2025-10-30 17:49:09,626 - app - ERROR - Internal Server Error: 500 Internal Server Error: The server encountered an internal error and was unable to complete your request. Either the server is overloaded or there is an error in the application.
Traceback (most recent call last):
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/app.py", line 2189, in wsgi_app
    ctx.push()
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/ctx.py", line 377, in push
    self.session = session_interface.open_session(self.app, self.request)
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask_session/sessions.py", line 329, in open_session
    sid = request.cookies.get(app.session_cookie_name)
                              ^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'Flask' object has no attribute 'session_cookie_name'
2025-10-30 17:49:10,221 - app - ERROR - Exception on /service-worker.js [GET]
Traceback (most recent call last):
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/app.py", line 2189, in wsgi_app
    ctx.push()
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/ctx.py", line 377, in push
    self.session = session_interface.open_session(self.app, self.request)
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask_session/sessions.py", line 329, in open_session
    sid = request.cookies.get(app.session_cookie_name)
                              ^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'Flask' object has no attribute 'session_cookie_name'
2025-10-30 17:49:10,281 - app - ERROR - Internal Server Error: 500 Internal Server Error: The server encountered an internal error and was unable to complete your request. Either the server is overloaded or there is an error in the application.
Traceback (most recent call last):
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/app.py", line 2189, in wsgi_app
    ctx.push()
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/ctx.py", line 377, in push
    self.session = session_interface.open_session(self.app, self.request)
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask_session/sessions.py", line 329, in open_session
    sid = request.cookies.get(app.session_cookie_name)
                              ^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'Flask' object has no attribute 'session_cookie_name'
2025-10-30 17:49:11,718 - app - ERROR - Exception on /service-worker.js [GET]
Traceback (most recent call last):
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/app.py", line 2189, in wsgi_app
    ctx.push()
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/ctx.py", line 377, in push
    self.session = session_interface.open_session(self.app, self.request)
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask_session/sessions.py", line 329, in open_session
    sid = request.cookies.get(app.session_cookie_name)
                              ^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'Flask' object has no attribute 'session_cookie_name'
2025-10-30 17:49:11,762 - app - ERROR - Internal Server Error: 500 Internal Server Error: The server encountered an internal error and was unable to complete your request. Either the server is overloaded or there is an error in the application.
Traceback (most recent call last):
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/app.py", line 2189, in wsgi_app
    ctx.push()
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/ctx.py", line 377, in push
    self.session = session_interface.open_session(self.app, self.request)
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask_session/sessions.py", line 329, in open_session
    sid = request.cookies.get(app.session_cookie_name)
                              ^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'Flask' object has no attribute 'session_cookie_name'
2025-10-30 17:49:40,718 - app - ERROR - Exception on /service-worker.js [GET]
Traceback (most recent call last):
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/app.py", line 2189, in wsgi_app
    ctx.push()
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/ctx.py", line 377, in push
    self.session = session_interface.open_session(self.app, self.request)
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask_session/sessions.py", line 329, in open_session
    sid = request.cookies.get(app.session_cookie_name)
                              ^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'Flask' object has no attribute 'session_cookie_name'
2025-10-30 17:49:40,761 - app - ERROR - Internal Server Error: 500 Internal Server Error: The server encountered an internal error and was unable to complete your request. Either the server is overloaded or there is an error in the application.
Traceback (most recent call last):
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/app.py", line 2189, in wsgi_app
    ctx.push()
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/ctx.py", line 377, in push
    self.session = session_interface.open_session(self.app, self.request)
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask_session/sessions.py", line 329, in open_session
    sid = request.cookies.get(app.session_cookie_name)
                              ^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'Flask' object has no attribute 'session_cookie_name'
2025-10-30 17:49:55,429 - apscheduler.executors.default - INFO - Running job "auto_close_sessions (trigger: interval[0:01:00], next run at: 2025-10-30 17:50:55 EAT)" (scheduled at 2025-10-30 17:49:55.423491+03:00)
2025-10-30 17:50:02,875 - apscheduler.executors.default - INFO - Job "auto_close_sessions (trigger: interval[0:01:00], next run at: 2025-10-30 17:50:55 EAT)" executed successfully
2025-10-30 17:50:53,589 - app - ERROR - Exception on /login [GET]
Traceback (most recent call last):
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/app.py", line 2189, in wsgi_app
    ctx.push()
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/ctx.py", line 377, in push
    self.session = session_interface.open_session(self.app, self.request)
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask_session/sessions.py", line 329, in open_session
    sid = request.cookies.get(app.session_cookie_name)
                              ^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'Flask' object has no attribute 'session_cookie_name'
2025-10-30 17:50:53,626 - app - ERROR - Internal Server Error: 500 Internal Server Error: The server encountered an internal error and was unable to complete your request. Either the server is overloaded or there is an error in the application.
Traceback (most recent call last):
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/app.py", line 2189, in wsgi_app
    ctx.push()
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/ctx.py", line 377, in push
    self.session = session_interface.open_session(self.app, self.request)
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask_session/sessions.py", line 329, in open_session
    sid = request.cookies.get(app.session_cookie_name)
                              ^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'Flask' object has no attribute 'session_cookie_name'
2025-10-30 17:50:53,802 - app - ERROR - Exception on /favicon.ico [GET]
Traceback (most recent call last):
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/app.py", line 2189, in wsgi_app
    ctx.push()
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/ctx.py", line 377, in push
    self.session = session_interface.open_session(self.app, self.request)
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask_session/sessions.py", line 329, in open_session
    sid = request.cookies.get(app.session_cookie_name)
                              ^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'Flask' object has no attribute 'session_cookie_name'
2025-10-30 17:50:53,844 - app - ERROR - Internal Server Error: 500 Internal Server Error: The server encountered an internal error and was unable to complete your request. Either the server is overloaded or there is an error in the application.
Traceback (most recent call last):
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/app.py", line 2189, in wsgi_app
    ctx.push()
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/ctx.py", line 377, in push
    self.session = session_interface.open_session(self.app, self.request)
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask_session/sessions.py", line 329, in open_session
    sid = request.cookies.get(app.session_cookie_name)
                              ^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'Flask' object has no attribute 'session_cookie_name'
2025-10-30 17:50:55,283 - app - ERROR - Exception on /service-worker.js [GET]
Traceback (most recent call last):
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/app.py", line 2189, in wsgi_app
    ctx.push()
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/ctx.py", line 377, in push
    self.session = session_interface.open_session(self.app, self.request)
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask_session/sessions.py", line 329, in open_session
    sid = request.cookies.get(app.session_cookie_name)
                              ^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'Flask' object has no attribute 'session_cookie_name'
2025-10-30 17:50:55,339 - app - ERROR - Internal Server Error: 500 Internal Server Error: The server encountered an internal error and was unable to complete your request. Either the server is overloaded or there is an error in the application.
Traceback (most recent call last):
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/app.py", line 2189, in wsgi_app
    ctx.push()
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/ctx.py", line 377, in push
    self.session = session_interface.open_session(self.app, self.request)
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask_session/sessions.py", line 329, in open_session
    sid = request.cookies.get(app.session_cookie_name)
                              ^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'Flask' object has no attribute 'session_cookie_name'
2025-10-30 17:50:55,485 - apscheduler.executors.default - INFO - Running job "keep_databases_alive (trigger: interval[0:03:00], next run at: 2025-10-30 17:50:55 EAT)" (scheduled at 2025-10-30 17:50:55.366103+03:00)
2025-10-30 17:50:55,522 - apscheduler.executors.default - INFO - Running job "auto_close_sessions (trigger: interval[0:01:00], next run at: 2025-10-30 17:51:55 EAT)" (scheduled at 2025-10-30 17:50:55.423491+03:00)
2025-10-30 17:50:55,636 - apscheduler.executors.default - INFO - Running job "ping_urls (trigger: interval[0:03:00], next run at: 2025-10-30 17:50:55 EAT)" (scheduled at 2025-10-30 17:50:55.606287+03:00)
2025-10-30 17:50:57,998 - apscheduler.executors.default - INFO - Job "ping_urls (trigger: interval[0:03:00], next run at: 2025-10-30 17:53:55 EAT)" executed successfully
2025-10-30 17:51:02,427 - apscheduler.executors.default - INFO - Job "auto_close_sessions (trigger: interval[0:01:00], next run at: 2025-10-30 17:51:55 EAT)" executed successfully
2025-10-30 17:51:07,059 - apscheduler.executors.default - INFO - Job "keep_databases_alive (trigger: interval[0:03:00], next run at: 2025-10-30 17:53:55 EAT)" executed successfully
2025-10-30 17:51:20,144 - app - ERROR - Exception on /ai-assist [GET]
Traceback (most recent call last):
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/app.py", line 2189, in wsgi_app
    ctx.push()
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/ctx.py", line 377, in push
    self.session = session_interface.open_session(self.app, self.request)
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask_session/sessions.py", line 329, in open_session
    sid = request.cookies.get(app.session_cookie_name)
                              ^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'Flask' object has no attribute 'session_cookie_name'
2025-10-30 17:51:20,200 - app - ERROR - Internal Server Error: 500 Internal Server Error: The server encountered an internal error and was unable to complete your request. Either the server is overloaded or there is an error in the application.
Traceback (most recent call last):
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/app.py", line 2189, in wsgi_app
    ctx.push()
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/ctx.py", line 377, in push
    self.session = session_interface.open_session(self.app, self.request)
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask_session/sessions.py", line 329, in open_session
    sid = request.cookies.get(app.session_cookie_name)
                              ^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'Flask' object has no attribute 'session_cookie_name'
2025-10-30 17:51:22,375 - app - ERROR - Exception on /service-worker.js [GET]
Traceback (most recent call last):
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/app.py", line 2189, in wsgi_app
    ctx.push()
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/ctx.py", line 377, in push
    self.session = session_interface.open_session(self.app, self.request)
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask_session/sessions.py", line 329, in open_session
    sid = request.cookies.get(app.session_cookie_name)
                              ^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'Flask' object has no attribute 'session_cookie_name'
2025-10-30 17:51:22,424 - app - ERROR - Internal Server Error: 500 Internal Server Error: The server encountered an internal error and was unable to complete your request. Either the server is overloaded or there is an error in the application.
Traceback (most recent call last):
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/app.py", line 2189, in wsgi_app
    ctx.push()
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/ctx.py", line 377, in push
    self.session = session_interface.open_session(self.app, self.request)
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask_session/sessions.py", line 329, in open_session
    sid = request.cookies.get(app.session_cookie_name)
                              ^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'Flask' object has no attribute 'session_cookie_name'
2025-10-30 17:51:51,373 - app - ERROR - Exception on /service-worker.js [GET]
Traceback (most recent call last):
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/app.py", line 2189, in wsgi_app
    ctx.push()
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/ctx.py", line 377, in push
    self.session = session_interface.open_session(self.app, self.request)
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask_session/sessions.py", line 329, in open_session
    sid = request.cookies.get(app.session_cookie_name)
                              ^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'Flask' object has no attribute 'session_cookie_name'
2025-10-30 17:51:51,402 - app - ERROR - Internal Server Error: 500 Internal Server Error: The server encountered an internal error and was unable to complete your request. Either the server is overloaded or there is an error in the application.
Traceback (most recent call last):
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/app.py", line 2189, in wsgi_app
    ctx.push()
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/ctx.py", line 377, in push
    self.session = session_interface.open_session(self.app, self.request)
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask_session/sessions.py", line 329, in open_session
    sid = request.cookies.get(app.session_cookie_name)
                              ^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'Flask' object has no attribute 'session_cookie_name'
2025-10-30 17:51:55,425 - apscheduler.executors.default - INFO - Running job "auto_close_sessions (trigger: interval[0:01:00], next run at: 2025-10-30 17:52:55 EAT)" (scheduled at 2025-10-30 17:51:55.423491+03:00)
2025-10-30 17:52:02,228 - apscheduler.executors.default - INFO - Job "auto_close_sessions (trigger: interval[0:01:00], next run at: 2025-10-30 17:52:55 EAT)" executed successfully
2025-10-30 17:52:31,966 - apscheduler.scheduler - INFO - Scheduler has been shut down
2025-10-30 17:53:07,226 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-10-30 17:53:07,228 - apscheduler.scheduler - INFO - Added job "keep_databases_alive" to job store "default"
2025-10-30 17:53:07,229 - apscheduler.scheduler - INFO - Scheduler started
2025-10-30 17:53:07,233 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-10-30 17:53:07,248 - apscheduler.scheduler - INFO - Added job "auto_close_sessions" to job store "default"
2025-10-30 17:53:07,249 - apscheduler.scheduler - INFO - Scheduler started
2025-10-30 17:53:07,255 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-10-30 17:53:07,262 - apscheduler.scheduler - INFO - Added job "delete_old_announcements" to job store "default"
2025-10-30 17:53:07,264 - apscheduler.scheduler - INFO - Scheduler started
2025-10-30 17:53:07,316 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-10-30 17:53:07,317 - apscheduler.scheduler - INFO - Added job "ping_urls" to job store "default"
2025-10-30 17:53:07,317 - apscheduler.scheduler - INFO - Scheduler started
2025-10-30 17:53:07,636 - apscheduler.scheduler - INFO - Scheduler has been shut down
2025-10-30 17:53:46,982 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-10-30 17:53:46,984 - apscheduler.scheduler - INFO - Added job "keep_databases_alive" to job store "default"
2025-10-30 17:53:46,985 - apscheduler.scheduler - INFO - Scheduler started
2025-10-30 17:53:46,989 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-10-30 17:53:46,994 - apscheduler.scheduler - INFO - Added job "auto_close_sessions" to job store "default"
2025-10-30 17:53:46,995 - apscheduler.scheduler - INFO - Scheduler started
2025-10-30 17:53:47,011 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-10-30 17:53:47,013 - apscheduler.scheduler - INFO - Added job "delete_old_announcements" to job store "default"
2025-10-30 17:53:47,013 - apscheduler.scheduler - INFO - Scheduler started
2025-10-30 17:53:47,063 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-10-30 17:53:47,064 - apscheduler.scheduler - INFO - Added job "ping_urls" to job store "default"
2025-10-30 17:53:47,064 - apscheduler.scheduler - INFO - Scheduler started
2025-10-30 17:53:57,595 - app - ERROR - Exception on /ai-assist [GET]
Traceback (most recent call last):
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/app.py", line 2189, in wsgi_app
    ctx.push()
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/ctx.py", line 377, in push
    self.session = session_interface.open_session(self.app, self.request)
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask_session/sessions.py", line 329, in open_session
    sid = request.cookies.get(app.session_cookie_name)
                              ^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'Flask' object has no attribute 'session_cookie_name'
2025-10-30 17:53:57,643 - app - ERROR - Internal Server Error: 500 Internal Server Error: The server encountered an internal error and was unable to complete your request. Either the server is overloaded or there is an error in the application.
Traceback (most recent call last):
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/app.py", line 2189, in wsgi_app
    ctx.push()
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/ctx.py", line 377, in push
    self.session = session_interface.open_session(self.app, self.request)
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask_session/sessions.py", line 329, in open_session
    sid = request.cookies.get(app.session_cookie_name)
                              ^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'Flask' object has no attribute 'session_cookie_name'
2025-10-30 17:53:57,813 - app - ERROR - Exception on /favicon.ico [GET]
Traceback (most recent call last):
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/app.py", line 2189, in wsgi_app
    ctx.push()
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/ctx.py", line 377, in push
    self.session = session_interface.open_session(self.app, self.request)
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask_session/sessions.py", line 329, in open_session
    sid = request.cookies.get(app.session_cookie_name)
                              ^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'Flask' object has no attribute 'session_cookie_name'
2025-10-30 17:53:57,854 - app - ERROR - Internal Server Error: 500 Internal Server Error: The server encountered an internal error and was unable to complete your request. Either the server is overloaded or there is an error in the application.
Traceback (most recent call last):
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/app.py", line 2189, in wsgi_app
    ctx.push()
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/ctx.py", line 377, in push
    self.session = session_interface.open_session(self.app, self.request)
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask_session/sessions.py", line 329, in open_session
    sid = request.cookies.get(app.session_cookie_name)
                              ^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'Flask' object has no attribute 'session_cookie_name'
2025-10-30 17:53:58,409 - app - ERROR - Exception on /ai-assist [GET]
Traceback (most recent call last):
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/app.py", line 2189, in wsgi_app
    ctx.push()
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/ctx.py", line 377, in push
    self.session = session_interface.open_session(self.app, self.request)
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask_session/sessions.py", line 329, in open_session
    sid = request.cookies.get(app.session_cookie_name)
                              ^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'Flask' object has no attribute 'session_cookie_name'
2025-10-30 17:53:58,461 - app - ERROR - Internal Server Error: 500 Internal Server Error: The server encountered an internal error and was unable to complete your request. Either the server is overloaded or there is an error in the application.
Traceback (most recent call last):
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/app.py", line 2189, in wsgi_app
    ctx.push()
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/ctx.py", line 377, in push
    self.session = session_interface.open_session(self.app, self.request)
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask_session/sessions.py", line 329, in open_session
    sid = request.cookies.get(app.session_cookie_name)
                              ^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'Flask' object has no attribute 'session_cookie_name'
2025-10-30 17:53:58,601 - app - ERROR - Exception on /favicon.ico [GET]
Traceback (most recent call last):
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/app.py", line 2189, in wsgi_app
    ctx.push()
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/ctx.py", line 377, in push
    self.session = session_interface.open_session(self.app, self.request)
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask_session/sessions.py", line 329, in open_session
    sid = request.cookies.get(app.session_cookie_name)
                              ^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'Flask' object has no attribute 'session_cookie_name'
2025-10-30 17:53:58,651 - app - ERROR - Internal Server Error: 500 Internal Server Error: The server encountered an internal error and was unable to complete your request. Either the server is overloaded or there is an error in the application.
Traceback (most recent call last):
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/app.py", line 2189, in wsgi_app
    ctx.push()
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/ctx.py", line 377, in push
    self.session = session_interface.open_session(self.app, self.request)
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask_session/sessions.py", line 329, in open_session
    sid = request.cookies.get(app.session_cookie_name)
                              ^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'Flask' object has no attribute 'session_cookie_name'
2025-10-30 17:53:59,026 - app - ERROR - Exception on /ai-assist [GET]
Traceback (most recent call last):
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/app.py", line 2189, in wsgi_app
    ctx.push()
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/ctx.py", line 377, in push
    self.session = session_interface.open_session(self.app, self.request)
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask_session/sessions.py", line 329, in open_session
    sid = request.cookies.get(app.session_cookie_name)
                              ^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'Flask' object has no attribute 'session_cookie_name'
2025-10-30 17:53:59,074 - app - ERROR - Internal Server Error: 500 Internal Server Error: The server encountered an internal error and was unable to complete your request. Either the server is overloaded or there is an error in the application.
Traceback (most recent call last):
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/app.py", line 2189, in wsgi_app
    ctx.push()
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/ctx.py", line 377, in push
    self.session = session_interface.open_session(self.app, self.request)
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask_session/sessions.py", line 329, in open_session
    sid = request.cookies.get(app.session_cookie_name)
                              ^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'Flask' object has no attribute 'session_cookie_name'
2025-10-30 17:53:59,227 - app - ERROR - Exception on /favicon.ico [GET]
Traceback (most recent call last):
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/app.py", line 2189, in wsgi_app
    ctx.push()
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/ctx.py", line 377, in push
    self.session = session_interface.open_session(self.app, self.request)
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask_session/sessions.py", line 329, in open_session
    sid = request.cookies.get(app.session_cookie_name)
                              ^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'Flask' object has no attribute 'session_cookie_name'
2025-10-30 17:53:59,271 - app - ERROR - Internal Server Error: 500 Internal Server Error: The server encountered an internal error and was unable to complete your request. Either the server is overloaded or there is an error in the application.
Traceback (most recent call last):
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/app.py", line 2189, in wsgi_app
    ctx.push()
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/ctx.py", line 377, in push
    self.session = session_interface.open_session(self.app, self.request)
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask_session/sessions.py", line 329, in open_session
    sid = request.cookies.get(app.session_cookie_name)
                              ^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'Flask' object has no attribute 'session_cookie_name'
2025-10-30 17:53:59,375 - app - ERROR - Exception on /service-worker.js [GET]
Traceback (most recent call last):
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/app.py", line 2189, in wsgi_app
    ctx.push()
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/ctx.py", line 377, in push
    self.session = session_interface.open_session(self.app, self.request)
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask_session/sessions.py", line 329, in open_session
    sid = request.cookies.get(app.session_cookie_name)
                              ^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'Flask' object has no attribute 'session_cookie_name'
2025-10-30 17:53:59,407 - app - ERROR - Internal Server Error: 500 Internal Server Error: The server encountered an internal error and was unable to complete your request. Either the server is overloaded or there is an error in the application.
Traceback (most recent call last):
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/app.py", line 2189, in wsgi_app
    ctx.push()
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/ctx.py", line 377, in push
    self.session = session_interface.open_session(self.app, self.request)
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask_session/sessions.py", line 329, in open_session
    sid = request.cookies.get(app.session_cookie_name)
                              ^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'Flask' object has no attribute 'session_cookie_name'
2025-10-30 17:54:00,830 - app - ERROR - Exception on /service-worker.js [GET]
Traceback (most recent call last):
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/app.py", line 2189, in wsgi_app
    ctx.push()
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/ctx.py", line 377, in push
    self.session = session_interface.open_session(self.app, self.request)
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask_session/sessions.py", line 329, in open_session
    sid = request.cookies.get(app.session_cookie_name)
                              ^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'Flask' object has no attribute 'session_cookie_name'
2025-10-30 17:54:00,884 - app - ERROR - Internal Server Error: 500 Internal Server Error: The server encountered an internal error and was unable to complete your request. Either the server is overloaded or there is an error in the application.
Traceback (most recent call last):
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/app.py", line 2189, in wsgi_app
    ctx.push()
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/ctx.py", line 377, in push
    self.session = session_interface.open_session(self.app, self.request)
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask_session/sessions.py", line 329, in open_session
    sid = request.cookies.get(app.session_cookie_name)
                              ^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'Flask' object has no attribute 'session_cookie_name'
2025-10-30 17:54:30,410 - app - ERROR - Exception on /service-worker.js [GET]
Traceback (most recent call last):
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/app.py", line 2189, in wsgi_app
    ctx.push()
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/ctx.py", line 377, in push
    self.session = session_interface.open_session(self.app, self.request)
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask_session/sessions.py", line 329, in open_session
    sid = request.cookies.get(app.session_cookie_name)
                              ^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'Flask' object has no attribute 'session_cookie_name'
2025-10-30 17:54:30,452 - app - ERROR - Internal Server Error: 500 Internal Server Error: The server encountered an internal error and was unable to complete your request. Either the server is overloaded or there is an error in the application.
Traceback (most recent call last):
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/app.py", line 2189, in wsgi_app
    ctx.push()
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask/ctx.py", line 377, in push
    self.session = session_interface.open_session(self.app, self.request)
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyxin/.venv/lib/python3.12/site-packages/flask_session/sessions.py", line 329, in open_session
    sid = request.cookies.get(app.session_cookie_name)
                              ^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'Flask' object has no attribute 'session_cookie_name'
2025-10-30 17:54:46,993 - apscheduler.executors.default - INFO - Running job "auto_close_sessions (trigger: interval[0:01:00], next run at: 2025-10-30 17:54:46 EAT)" (scheduled at 2025-10-30 17:54:46.989671+03:00)
2025-10-30 17:54:53,389 - apscheduler.executors.default - INFO - Job "auto_close_sessions (trigger: interval[0:01:00], next run at: 2025-10-30 17:55:46 EAT)" executed successfully
2025-10-30 17:55:33,729 - apscheduler.scheduler - INFO - Scheduler has been shut down
